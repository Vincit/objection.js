<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Changelog | Objection.js</title>
    <meta name="description" content="An SQL friendly ORM for node.js">
    
    
    <link rel="preload" href="/objection.js/assets/css/0.styles.887cf860.css" as="style"><link rel="preload" href="/objection.js/assets/js/app.0c2ebba3.js" as="script"><link rel="preload" href="/objection.js/assets/js/22.6506f0fb.js" as="script"><link rel="prefetch" href="/objection.js/assets/js/1.1300c266.js"><link rel="prefetch" href="/objection.js/assets/js/10.239be4a3.js"><link rel="prefetch" href="/objection.js/assets/js/11.7a51e2ad.js"><link rel="prefetch" href="/objection.js/assets/js/12.e611bd5c.js"><link rel="prefetch" href="/objection.js/assets/js/13.eb93f29d.js"><link rel="prefetch" href="/objection.js/assets/js/14.6aca307d.js"><link rel="prefetch" href="/objection.js/assets/js/15.39ec1a3a.js"><link rel="prefetch" href="/objection.js/assets/js/16.715b52f5.js"><link rel="prefetch" href="/objection.js/assets/js/17.7b452395.js"><link rel="prefetch" href="/objection.js/assets/js/18.d4d035e1.js"><link rel="prefetch" href="/objection.js/assets/js/19.55facd1c.js"><link rel="prefetch" href="/objection.js/assets/js/2.b3112ac3.js"><link rel="prefetch" href="/objection.js/assets/js/20.abce9fb3.js"><link rel="prefetch" href="/objection.js/assets/js/21.bbef3375.js"><link rel="prefetch" href="/objection.js/assets/js/23.84d018d4.js"><link rel="prefetch" href="/objection.js/assets/js/24.ca239af0.js"><link rel="prefetch" href="/objection.js/assets/js/25.7f3b0cd6.js"><link rel="prefetch" href="/objection.js/assets/js/26.250f021f.js"><link rel="prefetch" href="/objection.js/assets/js/27.5a15c74a.js"><link rel="prefetch" href="/objection.js/assets/js/28.51c3c69b.js"><link rel="prefetch" href="/objection.js/assets/js/29.18df49fe.js"><link rel="prefetch" href="/objection.js/assets/js/3.4f09a0a6.js"><link rel="prefetch" href="/objection.js/assets/js/30.d15fd35b.js"><link rel="prefetch" href="/objection.js/assets/js/31.145a53a9.js"><link rel="prefetch" href="/objection.js/assets/js/32.8c6dbc57.js"><link rel="prefetch" href="/objection.js/assets/js/33.7659df30.js"><link rel="prefetch" href="/objection.js/assets/js/34.cfd603c8.js"><link rel="prefetch" href="/objection.js/assets/js/35.816cbd36.js"><link rel="prefetch" href="/objection.js/assets/js/36.fc3faeb5.js"><link rel="prefetch" href="/objection.js/assets/js/37.135dcaf6.js"><link rel="prefetch" href="/objection.js/assets/js/38.403e6b1f.js"><link rel="prefetch" href="/objection.js/assets/js/39.b63783a5.js"><link rel="prefetch" href="/objection.js/assets/js/40.f817eff1.js"><link rel="prefetch" href="/objection.js/assets/js/41.f6b40db3.js"><link rel="prefetch" href="/objection.js/assets/js/42.eb19c2cc.js"><link rel="prefetch" href="/objection.js/assets/js/43.26c754e9.js"><link rel="prefetch" href="/objection.js/assets/js/44.0fab487d.js"><link rel="prefetch" href="/objection.js/assets/js/45.2a93abb8.js"><link rel="prefetch" href="/objection.js/assets/js/46.0cc90e43.js"><link rel="prefetch" href="/objection.js/assets/js/47.255ee1f6.js"><link rel="prefetch" href="/objection.js/assets/js/48.02e85389.js"><link rel="prefetch" href="/objection.js/assets/js/49.387bd187.js"><link rel="prefetch" href="/objection.js/assets/js/6.1f2cd6a7.js"><link rel="prefetch" href="/objection.js/assets/js/7.20cecf4f.js"><link rel="prefetch" href="/objection.js/assets/js/8.83363aa3.js"><link rel="prefetch" href="/objection.js/assets/js/9.d651b3b8.js"><link rel="prefetch" href="/objection.js/assets/js/vendors~docsearch.22f43628.js">
    <link rel="stylesheet" href="/objection.js/assets/css/0.styles.887cf860.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/objection.js/" class="home-link router-link-active"><!----> <span class="site-name">Objection.js</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/objection.js/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/objection.js/api/objection/" class="nav-link">Main Module</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/query-builder/" class="nav-link">Query Builder</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/model/" class="nav-link">Model</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/types/" class="nav-link">Types</a></li></ul></div></div><div class="nav-item"><a href="/objection.js/recipes/" class="nav-link">Recipe Book</a></div><div class="nav-item"><a href="/objection.js/changelog/" class="nav-link router-link-exact-active router-link-active">Changelog</a></div> <a href="https://github.com/vincit/objection.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/objection.js/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/objection.js/api/objection/" class="nav-link">Main Module</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/query-builder/" class="nav-link">Query Builder</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/model/" class="nav-link">Model</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/types/" class="nav-link">Types</a></li></ul></div></div><div class="nav-item"><a href="/objection.js/recipes/" class="nav-link">Recipe Book</a></div><div class="nav-item"><a href="/objection.js/changelog/" class="nav-link router-link-exact-active router-link-active">Changelog</a></div> <a href="https://github.com/vincit/objection.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="changelog"><a href="#changelog" aria-hidden="true" class="header-anchor">#</a> Changelog</h1> <h2 id="_1-6-6"><a href="#_1-6-6" aria-hidden="true" class="header-anchor">#</a> 1.6.6</h2> <ul><li>A bunch of regression bug fixes.</li></ul> <h2 id="_1-6-3"><a href="#_1-6-3" aria-hidden="true" class="header-anchor">#</a> 1.6.3</h2> <ul><li>Fixes: <a href="https://github.com/Vincit/objection.js/issues/1227" target="_blank" rel="noopener noreferrer">#1227<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-6-2"><a href="#_1-6-2" aria-hidden="true" class="header-anchor">#</a> 1.6.2</h2> <ul><li>Add <code>as</code> method for <code>raw</code> making it possible to use <code>raw</code> expressions in <code>joinEager</code> modifiers (as long as you give names to your raw expressions using <code>as</code>).</li></ul> <h2 id="_1-6-1"><a href="#_1-6-1" aria-hidden="true" class="header-anchor">#</a> 1.6.1</h2> <ul><li>Fix some very rare upsertGraph edge cases.</li></ul> <h2 id="_1-6-0"><a href="#_1-6-0" aria-hidden="true" class="header-anchor">#</a> 1.6.0</h2> <ul><li><p>Add <code>Model.traverseAsync</code> and <code>modelInstance.$traverseAsync</code> methods.</p></li> <li><p>Fixes: <a href="https://github.com/Vincit/objection.js/issues/842" target="_blank" rel="noopener noreferrer">#842<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/Vincit/objection.js/issues/1205" target="_blank" rel="noopener noreferrer">#1205<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This bug is about subqueries &quot;inheriting&quot; parent query table name and alias. This bug has been around a long time and there is a small chance that people have started accidentally or on purpose use it as a feature. If you get weird reference errors from subqueries (relation not found, table not found etc.) you may need to explicitly give an alias or use <code>from</code> in your subqueries after this update. This is a borderline breaking change, but since 2.0 is still pretty far away, I wanted to get this out faster. If I'm wrong and people are heavily depending on this bug, I'll revert the change.</p></li> <li><p>Fixes: <a href="https://github.com/Vincit/objection.js/issues/1215" target="_blank" rel="noopener noreferrer">#1215<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Fixes: <a href="https://github.com/Vincit/objection.js/issues/1206" target="_blank" rel="noopener noreferrer">#1206<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="_1-5-3"><a href="#_1-5-3" aria-hidden="true" class="header-anchor">#</a> 1.5.3</h2> <h3 id="what-s-new"><a href="#what-s-new" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Fixes <a href="https://github.com/Vincit/objection.js/issues/1204" target="_blank" rel="noopener noreferrer">#1204<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-5-1"><a href="#_1-5-1" aria-hidden="true" class="header-anchor">#</a> 1.5.1</h2> <h3 id="what-s-new-2"><a href="#what-s-new-2" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Relations are now loaded lazily <a href="https://github.com/Vincit/objection.js/issues/1202" target="_blank" rel="noopener noreferrer">#1202<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>relationMappings.modelClass</code> can now be a function that returns a model class.</li></ul> <h2 id="_1-5-0"><a href="#_1-5-0" aria-hidden="true" class="header-anchor">#</a> 1.5.0</h2> <h3 id="what-s-new-3"><a href="#what-s-new-3" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/1131" target="_blank" rel="noopener noreferrer">#1131<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1114" target="_blank" rel="noopener noreferrer">#1114<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1185" target="_blank" rel="noopener noreferrer">#1185<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1109" target="_blank" rel="noopener noreferrer">#1109<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1110" target="_blank" rel="noopener noreferrer">#1110<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>add eagerObject and eagerModifiers accessors to QueryBuilder.</li> <li>complete rewrite of <code>insertGraph</code> and <code>upsertGraph</code> code. The rewrite brought a bunch of small performance optimizations and makes future development easier. No breaking changes.</li> <li>Chaining <code>returning('*')</code> to <code>insertGraph</code> or <code>upsertGraph</code> now propagates the call to all insert, update and delete operations.</li> <li>Code using objectio can now be transpilsed to ES5. No need to add babel workarounds anymore.</li></ul> <h2 id="_1-4-0"><a href="#_1-4-0" aria-hidden="true" class="header-anchor">#</a> 1.4.0</h2> <h3 id="what-s-new-4"><a href="#what-s-new-4" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Add <code>modifierNotFound</code> hook <a href="https://github.com/Vincit/objection.js/issues/1120" target="_blank" rel="noopener noreferrer">#1120<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1121" target="_blank" rel="noopener noreferrer">#1121<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1126" target="_blank" rel="noopener noreferrer">#1126<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-3-0"><a href="#_1-3-0" aria-hidden="true" class="header-anchor">#</a> 1.3.0</h2> <h3 id="what-s-new-5"><a href="#what-s-new-5" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Use <code>objection.raw</code> instead of <code>knex.raw</code> in <code>Model.raw</code>. <a href="https://github.com/Vincit/objection.js/issues/1077" target="_blank" rel="noopener noreferrer">#1077<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Allow modifiers (namedFilters) to be used in <code>modifyEager</code> too.</li> <li>Add <code>underscoreBeforeDigits</code> option for snake case converters. <a href="https://github.com/Vincit/objection.js/issues/1025" target="_blank" rel="noopener noreferrer">#1025<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1074" target="_blank" rel="noopener noreferrer">#1074<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Typing fixes</li></ul> <h2 id="_1-2-3"><a href="#_1-2-3" aria-hidden="true" class="header-anchor">#</a> 1.2.3</h2> <h3 id="what-s-new-6"><a href="#what-s-new-6" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/1007" target="_blank" rel="noopener noreferrer">#1007<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1008" target="_blank" rel="noopener noreferrer">#1008<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/1047" target="_blank" rel="noopener noreferrer">#1047<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-2-2"><a href="#_1-2-2" aria-hidden="true" class="header-anchor">#</a> 1.2.2</h2> <h3 id="what-s-new-7"><a href="#what-s-new-7" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Improve reference cycle detection in <code>upsertGraph</code></li></ul> <h2 id="_1-2-1"><a href="#_1-2-1" aria-hidden="true" class="header-anchor">#</a> 1.2.1</h2> <h3 id="what-s-new-8"><a href="#what-s-new-8" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/1009" target="_blank" rel="noopener noreferrer">#1009<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-2-0"><a href="#_1-2-0" aria-hidden="true" class="header-anchor">#</a> 1.2.0</h2> <h3 id="what-s-new-9"><a href="#what-s-new-9" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/919" target="_blank" rel="noopener noreferrer">#919<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/964" target="_blank" rel="noopener noreferrer">#964<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Add <code>aliasFor</code> method to public API</li> <li>Prevent bluebird warnings</li> <li>UPPER_SNAKE_CASE support for <code>snakeCaseMappers</code> and <code>knexSnakeCaseMappers</code></li></ul> <h2 id="_1-1-10"><a href="#_1-1-10" aria-hidden="true" class="header-anchor">#</a> 1.1.10</h2> <h3 id="what-s-new-10"><a href="#what-s-new-10" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Nothing! the npm release was somehow borked. This was just a rerelease of 1.1.9.</li></ul> <h2 id="_1-1-9"><a href="#_1-1-9" aria-hidden="true" class="header-anchor">#</a> 1.1.9</h2> <h3 id="what-s-new-11"><a href="#what-s-new-11" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/782" target="_blank" rel="noopener noreferrer">#782<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-8"><a href="#_1-1-8" aria-hidden="true" class="header-anchor">#</a> 1.1.8</h2> <h3 id="what-s-new-12"><a href="#what-s-new-12" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/909" target="_blank" rel="noopener noreferrer">#909<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-7"><a href="#_1-1-7" aria-hidden="true" class="header-anchor">#</a> 1.1.7</h2> <h3 id="what-s-new-13"><a href="#what-s-new-13" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/884" target="_blank" rel="noopener noreferrer">#884<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-6"><a href="#_1-1-6" aria-hidden="true" class="header-anchor">#</a> 1.1.6</h2> <h3 id="what-s-new-14"><a href="#what-s-new-14" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Add typings for fetchTableMetadata, tableMetadata and onbuildknex</li></ul> <h2 id="_1-1-5"><a href="#_1-1-5" aria-hidden="true" class="header-anchor">#</a> 1.1.5</h2> <h3 id="what-s-new-15"><a href="#what-s-new-15" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Make <a href="#fetchtablemetadata">Model.fetchTableMetadata</a> and <a href="#tablemetadata">Model.tableMetadata</a> methods public. <a href="https://github.com/Vincit/objection.js/issues/871" target="_blank" rel="noopener noreferrer">#871<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Add <a href="#onbuildknex">onBuildKnex</a> query builder hook. <a href="https://github.com/Vincit/objection.js/issues/807" target="_blank" rel="noopener noreferrer">#807<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-4"><a href="#_1-1-4" aria-hidden="true" class="header-anchor">#</a> 1.1.4</h2> <h3 id="what-s-new-16"><a href="#what-s-new-16" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix subquery bug causing incompatibility with knex 0.14.5 and sqlite3</li></ul> <h2 id="_1-1-3"><a href="#_1-1-3" aria-hidden="true" class="header-anchor">#</a> 1.1.3</h2> <h3 id="what-s-new-17"><a href="#what-s-new-17" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix regression in 1.1.2 (sorry about this) <a href="https://github.com/Vincit/objection.js/issues/869" target="_blank" rel="noopener noreferrer">#869<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-2"><a href="#_1-1-2" aria-hidden="true" class="header-anchor">#</a> 1.1.2</h2> <h3 id="what-s-new-18"><a href="#what-s-new-18" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Add <code>virtuals</code> option for <code>toJSON</code> and <code>$toJson</code> <a href="https://github.com/Vincit/objection.js/issues/866" target="_blank" rel="noopener noreferrer">#866<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/868" target="_blank" rel="noopener noreferrer">#868<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-1"><a href="#_1-1-1" aria-hidden="true" class="header-anchor">#</a> 1.1.1</h2> <h3 id="what-s-new-19"><a href="#what-s-new-19" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/865" target="_blank" rel="noopener noreferrer">#865<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix bug where the static <code>Model.relatedQuery</code> didn't use the relation name as an alias for the table. This may break
code if you have explicitly referenced the subquery table. <a href="https://github.com/Vincit/objection.js/issues/859" target="_blank" rel="noopener noreferrer">#859<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-1-0"><a href="#_1-1-0" aria-hidden="true" class="header-anchor">#</a> 1.1.0</h2> <h3 id="what-s-new-20"><a href="#what-s-new-20" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Optional <a href="#relationexpression-object-notation">object notation</a> for relation expressions.</li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/855" target="_blank" rel="noopener noreferrer">#855<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/858" target="_blank" rel="noopener noreferrer">#858<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-0-1"><a href="#_1-0-1" aria-hidden="true" class="header-anchor">#</a> 1.0.1</h2> <h3 id="what-s-new-21"><a href="#what-s-new-21" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Added public <a href="#relation">Relation.joinModelClass</a> accessor</li> <li>Don't call <code>returning</code> on sqlite (prevents a warning message added in knex 0.14.4)</li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/844" target="_blank" rel="noopener noreferrer">#844<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Small documentation updates</li> <li>Small typing fixes end updates</li></ul> <h2 id="_1-0-0-ðŸŽ‰"><a href="#_1-0-0-ðŸŽ‰" aria-hidden="true" class="header-anchor">#</a> 1.0.0 ðŸŽ‰</h2> <h3 id="what-s-new-22"><a href="#what-s-new-22" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>The static <a href="#relatedquery"><code>relatedQuery</code></a> method.</li> <li>New reflection methods:
<a href="#isfind"><code>isFind</code></a>,
<a href="#isinsert"><code>isInsert</code></a>,
<a href="#isupdate"><code>isUpdate</code></a>,
<a href="#isdelete"><code>isDelete</code></a>,
<a href="#isrelate"><code>isRelate</code></a>,
<a href="#isunrelate"><code>isUnrelate</code></a>,
<a href="#haswheres"><code>hasWheres</code></a>,
<a href="#hasselects"><code>hasSelects</code></a>,
<a href="#haseager"><code>hasEager</code></a>,
<a href="#has"><code>has</code></a>.
<a href="#clear"><code>clear</code></a>.
<a href="#columnnametopropertyname"><code>columnNameToPropertyName</code></a>,
<a href="#propertynametocolumnname"><code>propertyNameToColumnName</code></a>.</li> <li><code>ManyToMany</code> extras now work consistently in queries and filters. <a href="https://github.com/Vincit/objection.js/issues/760" target="_blank" rel="noopener noreferrer">#760<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="breaking-changes"><a href="#breaking-changes" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <ul><li><p><code>modelInstance.$query().delete().returning(something)</code> now returns a single instance instead of an array. <a href="https://github.com/Vincit/objection.js/issues/659" target="_blank" rel="noopener noreferrer">#659<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Node 6.0.0 is now the minimum. Objection will not work on node &lt; 6.0.0.</p></li> <li><p><a href="#validationerror"><code>ValidationError</code></a> overhaul. This is a big one, so read this carefully! There are three things to check when you migrate to 1.0:</p> <ol><li>The <a href="#createvalidationerror"><code>createValidationError</code></a> and <a href="#validationerror"><code>ValidationError</code></a> interfaces have changed.
If you have overridden the <code>createValidationError</code> method in your project, or you create custom <code>ValidationError</code> instances
you need migrate to the interfaces.</li> <li>The model validation errors (jsonSchema violations) have remained pretty much the same but there are couple of differences. Before, the
keys of <code>error.data</code> were property names even when a nested object in a graph failed a validation. Now the keys for nested
validation errors are key paths like <code>foo.bar[2].spam</code>. Another tiny difference is the order of validation errors for each key in
<code>error.data</code>. Let's say a property <code>spam</code> failed for your model and <code>error.data.spam</code> contains an array of objects that describe
the failures. Before, the first failed validation was the last item in the array, now it is the first item.</li> <li>All <a href="#validationerror"><code>ValidationErrors</code></a> now have a <code>type</code> field. Before all <a href="#validationerror"><code>ValidationErrors</code></a> but the model
validation errors (errors like &quot;invalid relation expression&quot;, or &quot;cyclic model graph&quot;) had no type, and could only be identified
based on the existence of some weird key in <code>error.data</code>. The <code>error.data</code> is now removed from those errors and the <code>type</code> should be
used instead. The message from the data is now stored in <code>error.message</code>.</li></ol></li> <li><p>Removed deprecated methods <code>whereRef</code>, <code>whereJsonField</code> and <code>whereJsonEquals</code>. The <a href="#ref"><code>ref</code></a> helper can be used to replace the
<code>whereRef</code> calls. <a href="#ref"><code>ref</code></a> and <a href="#lit"><code>lit</code></a> can be used to replace the removed json methods.</p></li> <li><p><code>ManyToMany</code> extras now work consistently in queries and filters. <a href="https://github.com/Vincit/objection.js/issues/760" target="_blank" rel="noopener noreferrer">#760<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This is not
a breaking change per se, but can cause some queries to fail with a &quot;ambiguous identifier&quot; error because the join table is now joined
in places where it previously wasn't. You need to explicitly specify the table for those failing columns using <code>Table.theColumn</code> syntax.</p></li></ul> <h3 id="changes"><a href="#changes" aria-hidden="true" class="header-anchor">#</a> Changes</h3> <ul><li><code>isFindQuery</code> is renamed to <a href="http://vincit.github.io/objection.js/#isfind" target="_blank" rel="noopener noreferrer"><code>isFind</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and deprecated.</li></ul> <h2 id="_0-9-4"><a href="#_0-9-4" aria-hidden="true" class="header-anchor">#</a> 0.9.4</h2> <h3 id="what-s-new-23"><a href="#what-s-new-23" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Fixed <a href="https://github.com/Vincit/objection.js/issues/627" target="_blank" rel="noopener noreferrer">#627<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fixed <a href="https://github.com/Vincit/objection.js/issues/671" target="_blank" rel="noopener noreferrer">#671<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fixed <a href="https://github.com/Vincit/objection.js/issues/672" target="_blank" rel="noopener noreferrer">#672<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fixed <a href="https://github.com/Vincit/objection.js/issues/674" target="_blank" rel="noopener noreferrer">#674<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-9-3"><a href="#_0-9-3" aria-hidden="true" class="header-anchor">#</a> 0.9.3</h2> <h3 id="what-s-new-24"><a href="#what-s-new-24" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Add beforeInsert hook for relations. <a href="https://github.com/Vincit/objection.js/issues/649" target="_blank" rel="noopener noreferrer">#649<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Vincit/objection.js/issues/19" target="_blank" rel="noopener noreferrer">#19<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Add <a href="#relatedfindquerymutates"><code>relatedFindQueryMutates</code></a> and <a href="#relatedinsertquerymutates"><code>relatedInsertQueryMutates</code></a> configs as well as <a href="#_s_setrelated"><code>$setRelated</code></a> and <a href="#_s_appendrelated"><code>$appendRelated</code></a> helpers. <a href="https://github.com/Vincit/objection.js/issues/599" target="_blank" rel="noopener noreferrer">#599<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fixed <a href="https://github.com/Vincit/objection.js/issues/648" target="_blank" rel="noopener noreferrer">#648<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-9-2"><a href="#_0-9-2" aria-hidden="true" class="header-anchor">#</a> 0.9.2</h2> <h3 id="what-s-new-25"><a href="#what-s-new-25" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Fix regression: <code>from</code> fails with a subquery.</li></ul> <h2 id="_0-9-1"><a href="#_0-9-1" aria-hidden="true" class="header-anchor">#</a> 0.9.1</h2> <h3 id="what-s-new-26"><a href="#what-s-new-26" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="http://vincit.github.io/objection.js/#castto" target="_blank" rel="noopener noreferrer"><code>castTo</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method for setting the model class of query result rows.</li> <li><a href="http://vincit.github.io/objection.js/#onerror" target="_blank" rel="noopener noreferrer"><code>onError</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>QueryBuilder</code> method.</li> <li><a href="http://vincit.github.io/objection.js/#objection-knexsnakecasemappers" target="_blank" rel="noopener noreferrer"><code>knexSnakeCaseMappers</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="http://vincit.github.io/objection.js/#objection-snakecasemappers" target="_blank" rel="noopener noreferrer"><code>snakeCaseMappers</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for snake_case to camelCase conversions.</li></ul> <h2 id="_0-9-0"><a href="#_0-9-0" aria-hidden="true" class="header-anchor">#</a> 0.9.0</h2> <h3 id="what-s-new-27"><a href="#what-s-new-27" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Relations can now be defined using keys inside JSON columns. See the examples <a href="http://vincit.github.io/objection.js/#relationmappings" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li><a href="http://vincit.github.io/objection.js/#lit" target="_blank" rel="noopener noreferrer"><code>lit</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> helper function <a href="https://github.com/Vincit/objection.js/issues/275" target="_blank" rel="noopener noreferrer">#275<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fixes for <a href="http://vincit.github.io/objection.js/#upsertgraph" target="_blank" rel="noopener noreferrer"><code>upsertGraph</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> when using composite keys. <a href="https://github.com/Vincit/objection.js/issues/517" target="_blank" rel="noopener noreferrer">#517<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Added <code>noDelete</code>, <code>noUpdate</code>, <code>noInsert</code>, <code>noRelate</code> and <code>noUnrelate</code> options for <code>upsertGraph</code>. See <a href="#upsertgraphoptions">UpsertGraphOptions docs</a> for more info.</li> <li><code>insertGraph</code> now accepts an options object just like <code>upsertGraph</code>. <code>relate</code> option can be used instead of <code>#dbRef</code>. <a href="https://github.com/Vincit/objection.js/issues/586" target="_blank" rel="noopener noreferrer">#586<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="breaking-changes-2"><a href="#breaking-changes-2" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <ul><li><p>Instance update/patch with <code>returning</code> now return a single object instead of an array. <a href="https://github.com/Vincit/objection.js/issues/423" target="_blank" rel="noopener noreferrer">#423<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Because of the support for JSON relations <a href="http://vincit.github.io/objection.js/#relation" target="_blank" rel="noopener noreferrer">the <code>Relation</code> class<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
has changed a bit.</p></li></ul> <h2 id="_0-8-8"><a href="#_0-8-8" aria-hidden="true" class="header-anchor">#</a> 0.8.8</h2> <h3 id="what-s-new-28"><a href="#what-s-new-28" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Typing updates: <a href="https://github.com/Vincit/objection.js/issues/489" target="_blank" rel="noopener noreferrer">#489<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Vincit/objection.js/issues/487" target="_blank" rel="noopener noreferrer">#487<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Improve <code>resultSize</code> method. <a href="https://github.com/Vincit/objection.js/issues/213" target="_blank" rel="noopener noreferrer">#213<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Avoid unnecessary updates in upsertGraph <a href="https://github.com/Vincit/objection.js/issues/480" target="_blank" rel="noopener noreferrer">#480<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-7"><a href="#_0-8-7" aria-hidden="true" class="header-anchor">#</a> 0.8.7</h2> <h3 id="what-s-new-29"><a href="#what-s-new-29" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><code>throwIfNotFound</code> now also throws when update or delete doesn't change any rows.</li> <li><a href="#mixin"><code>mixin</code></a> and <a href="#compose"><code>compose</code></a> helpers for applying multiple plugins. <a href="https://github.com/Vincit/objection.js/issues/475" target="_blank" rel="noopener noreferrer">#475<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Vincit/objection.js/issues/473" target="_blank" rel="noopener noreferrer">#473<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Typing updates <a href="https://github.com/Vincit/objection.js/issues/474" target="_blank" rel="noopener noreferrer">#474<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Vincit/objection.js/issues/479" target="_blank" rel="noopener noreferrer">#479<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>upsertGraph</code> now validates patched models correctly. <a href="https://github.com/Vincit/objection.js/issues/477" target="_blank" rel="noopener noreferrer">#477<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-6"><a href="#_0-8-6" aria-hidden="true" class="header-anchor">#</a> 0.8.6</h2> <h3 id="what-s-new-30"><a href="#what-s-new-30" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Finally: the first version of <a href="#graph-upserts"><code>upsertGraph</code></a> method! Please open issues about bugs, WTFs and missing features.</li> <li>Strip readonly virtual properties in fromJson &amp; friends <a href="https://github.com/Vincit/objection.js/issues/432" target="_blank" rel="noopener noreferrer">#432<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fixed <a href="https://github.com/Vincit/objection.js/issues/439" target="_blank" rel="noopener noreferrer">#439<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-5"><a href="#_0-8-5" aria-hidden="true" class="header-anchor">#</a> 0.8.5</h2> <h3 id="what-s-new-31"><a href="#what-s-new-31" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Add <a href="http://vincit.github.io/objection.js/#uselimitinfirst" target="_blank" rel="noopener noreferrer"><code>Model.useLimitInFirst</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> configuration flag.</li></ul> <h2 id="_0-8-4"><a href="#_0-8-4" aria-hidden="true" class="header-anchor">#</a> 0.8.4</h2> <h3 id="what-s-new-32"><a href="#what-s-new-32" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>New shorthand methods <a href="http://vincit.github.io/objection.js/#joineager" target="_blank" rel="noopener noreferrer"><code>joinEager</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="http://vincit.github.io/objection.js/#naiveeager" target="_blank" rel="noopener noreferrer"><code>naiveEager</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="http://vincit.github.io/objection.js/#mergejoineager" target="_blank" rel="noopener noreferrer"><code>mergeJoinEager</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="http://vincit.github.io/objection.js/#mergenaiveeager" target="_blank" rel="noopener noreferrer"><code>mergeNaiveEager</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>New shorthand method <a href="http://vincit.github.io/objection.js/#findone" target="_blank" rel="noopener noreferrer"><code>findOne</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>New reflection method <a href="http://vincit.github.io/objection.js/#isfind" target="_blank" rel="noopener noreferrer"><code>isFindQuery</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>ManyToMany extra properties can now be updated <a href="https://github.com/Vincit/objection.js/issues/413" target="_blank" rel="noopener noreferrer">#413<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-3"><a href="#_0-8-3" aria-hidden="true" class="header-anchor">#</a> 0.8.3</h2> <h3 id="what-s-new-33"><a href="#what-s-new-33" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="http://vincit.github.io/objection.js/#eager" target="_blank" rel="noopener noreferrer"><code>NaiveEagerAlogrithm</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://vincit.github.io/objection.js/#relationexpression" target="_blank" rel="noopener noreferrer">Aliases in relation expressions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Vincit/objection.js/issues/402" target="_blank" rel="noopener noreferrer">#402<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>New lazily evaluated <code>raw</code> function. <a href="https://github.com/Vincit/objection.js/issues/275" target="_blank" rel="noopener noreferrer">#275<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-2"><a href="#_0-8-2" aria-hidden="true" class="header-anchor">#</a> 0.8.2</h2> <h3 id="what-s-new-34"><a href="#what-s-new-34" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="http://vincit.github.io/objection.js/#namedfilters" target="_blank" rel="noopener noreferrer"><code>Model.namedFilters</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> object for defining shared filters that can be used by name in eager expressions.</li> <li>Full support for views and table aliases in eager, join, joinRelation etc. <a href="https://github.com/Vincit/objection.js/issues/181" target="_blank" rel="noopener noreferrer">#181<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fix <code>bindTransaction</code> bug with <code>ManyToManyRelation</code> junction tables <a href="https://github.com/Vincit/objection.js/issues/395" target="_blank" rel="noopener noreferrer">#395<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-1"><a href="#_0-8-1" aria-hidden="true" class="header-anchor">#</a> 0.8.1</h2> <h3 id="what-s-new-35"><a href="#what-s-new-35" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="http://vincit.github.io/objection.js/#throwifnotfound" target="_blank" rel="noopener noreferrer"><code>throwIfNotFound</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method for making empty query results throw an exception.</li> <li>fix error when passing model instance to a <code>where</code> method. <a href="https://github.com/Vincit/objection.js/issues/387" target="_blank" rel="noopener noreferrer">#387<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-8-0"><a href="#_0-8-0" aria-hidden="true" class="header-anchor">#</a> 0.8.0</h2> <h3 id="what-s-new-36"><a href="#what-s-new-36" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>All query methods now call <code>Model.query</code> to create a <code>QueryBuilder</code> instance <a href="https://github.com/Vincit/objection.js/issues/346" target="_blank" rel="noopener noreferrer">#346<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Objection is no longer transpiled. One of the implications is that you can use a github
link in package.json to test experimental versions.</li> <li><code>count</code> can now be called without arguments <a href="https://github.com/Vincit/objection.js/issues/364" target="_blank" rel="noopener noreferrer">#364<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>A new <a href="#getrelations"><code>getRelations</code></a> method for plugin development and other reflection greatness.</li></ul> <h3 id="breaking-changes-3"><a href="#breaking-changes-3" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <blockquote><p>Old model definition</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Model</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Model<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">;</span>

Person<span class="token punctuation">.</span>tableName <span class="token operator">=</span> <span class="token string">'Person'</span><span class="token punctuation">;</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fullName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// More static and prototype methods.</span>
</code></pre></div><blockquote><p>Easiest way to migrate to <code>class</code> and <code>extends</code> keywords</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

Person<span class="token punctuation">.</span>tableName <span class="token operator">=</span> <span class="token string">'Person'</span><span class="token punctuation">;</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fullName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// More static and prototype methods.</span>
</code></pre></div><ul><li><p>Support for node versions below 4.0.0 has been removed. With it the support for legacy class inheritance using <code>Model.extend</code> method
has also been removed. This means that you need to change your model definitions to use the <code>class</code> and <code>extends</code> keywords.
To achieve this with the minimum amount of changes you can simply swap the constructor function and <code>Model.extend</code> to
a class definition. You can still define all static and prototype methods and properties the old way. See the example on the right --&gt;</p> <p>Note that this also affects Babel transpilation. You cannot (or need to) use <code>babel-plugin-transform-es2015-classes</code> anymore.
See the <a href="https://github.com/Vincit/objection.js/tree/master/examples/express-es7" target="_blank" rel="noopener noreferrer">ESNext example project<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as an example of
how to setup babel.</p></li> <li><p>The default value of <a href="#pickjsonschemaproperties"><code>pickJsonSchemaProperties</code></a> was changed to <code>false</code>. Before, all properties that
were not listed in <code>jsonSchema</code> were removed before <code>insert</code>, <code>patch</code> or <code>update</code> (if <code>jsonSchma</code> was defined). Starting from
this version you need to explicitly set the value to <code>true</code>. You may have been used this feature by accident.
If you have weird problems after the update, try setting <code>objection.Model.pickJsonSchemaProperties = true;</code> to see
if it helps.</p></li> <li><p><a href="#pickjsonschemaproperties"><code>relate</code></a> and <a href="#pickjsonschemaproperties"><code>unrelate</code></a> methods now return the result of the
underlying query (<code>patch</code> in case of <code>HasManyRelation</code>, <code>HasOneRelation</code>, and <code>BelongsToOneRelation</code>. <code>insert</code> otherwise).
Before the method input was always returned.</p></li> <li><p><code>Model.RelatedQueryBuilder</code> is removed. <code>Model.QueryBuilder</code> is now used to create all query builders for the model.
This only affects you if you have defined custom query builders.</p></li></ul> <h2 id="_0-7-12"><a href="#_0-7-12" aria-hidden="true" class="header-anchor">#</a> 0.7.12</h2> <h3 id="what-s-new-37"><a href="#what-s-new-37" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/345" target="_blank" rel="noopener noreferrer">#345<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-7-11"><a href="#_0-7-11" aria-hidden="true" class="header-anchor">#</a> 0.7.11</h2> <h3 id="what-s-new-38"><a href="#what-s-new-38" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/339" target="_blank" rel="noopener noreferrer">#339<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/341" target="_blank" rel="noopener noreferrer">#341<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-7-10"><a href="#_0-7-10" aria-hidden="true" class="header-anchor">#</a> 0.7.10</h2> <h3 id="what-s-new-39"><a href="#what-s-new-39" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix bugs that prevented using <code>$relatedQuery</code> and <code>eager</code> together with <code>JoinEagerAlgorithm</code></li> <li>typing updates</li></ul> <h2 id="_0-7-9"><a href="#_0-7-9" aria-hidden="true" class="header-anchor">#</a> 0.7.9</h2> <h3 id="what-s-new-40"><a href="#what-s-new-40" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="http://vincit.github.io/objection.js/#joinrelation" target="_blank" rel="noopener noreferrer"><code>joinRelation</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> now accepts <a href="http://vincit.github.io/objection.js/#relationexpression" target="_blank" rel="noopener noreferrer"><code>RelationExpressions</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and can join multiple and nested relations.</li></ul> <h2 id="_0-7-6"><a href="#_0-7-6" aria-hidden="true" class="header-anchor">#</a> 0.7.6</h2> <h3 id="what-s-new-41"><a href="#what-s-new-41" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><code>range</code> and <code>page</code> methods now use a window function and only generate one query on postgresql <a href="https://github.com/Vincit/objection.js/issues/62" target="_blank" rel="noopener noreferrer">#62<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix MSSQL 2100 parameter limit in eager queries <a href="https://github.com/Vincit/objection.js/issues/311" target="_blank" rel="noopener noreferrer">#311<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-7-5"><a href="#_0-7-5" aria-hidden="true" class="header-anchor">#</a> 0.7.5</h2> <h3 id="what-s-new-42"><a href="#what-s-new-42" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/327" target="_blank" rel="noopener noreferrer">#327<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix <a href="https://github.com/Vincit/objection.js/issues/256" target="_blank" rel="noopener noreferrer">#256<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-7-4"><a href="#_0-7-4" aria-hidden="true" class="header-anchor">#</a> 0.7.4</h2> <h3 id="what-s-new-43"><a href="#what-s-new-43" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>automatically select columns needed for relations <a href="https://github.com/Vincit/objection.js/issues/309" target="_blank" rel="noopener noreferrer">#309<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix an issue where <code>$formatJson</code> was called inside <code>insertGraph</code> <a href="https://github.com/Vincit/objection.js/issues/326" target="_blank" rel="noopener noreferrer">#326<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-7-3"><a href="#_0-7-3" aria-hidden="true" class="header-anchor">#</a> 0.7.3</h2> <h3 id="what-s-new-44"><a href="#what-s-new-44" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <a href="https://github.com/Vincit/objection.js/issues/325" target="_blank" rel="noopener noreferrer">#325<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix an issue where <code>select</code> had to be used in addition to <code>distinct</code> in some cases</li></ul> <h2 id="_0-7-2"><a href="#_0-7-2" aria-hidden="true" class="header-anchor">#</a> 0.7.2</h2> <h3 id="what-s-new-45"><a href="#what-s-new-45" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><code>HasOneThroughRelation</code> relation type.</li></ul> <h2 id="_0-7-1"><a href="#_0-7-1" aria-hidden="true" class="header-anchor">#</a> 0.7.1</h2> <h3 id="what-s-new-46"><a href="#what-s-new-46" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix <code>JoinEagerAlgorithm</code> NPE bug</li></ul> <h2 id="_0-7-0"><a href="#_0-7-0" aria-hidden="true" class="header-anchor">#</a> 0.7.0</h2> <h3 id="what-s-new-47"><a href="#what-s-new-47" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><code>jsonSchema</code> without <code>properties</code> now works. <a href="https://github.com/Vincit/objection.js/issues/205" target="_blank" rel="noopener noreferrer">#205<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>relationMappings</code> can now be a function. <a href="https://github.com/Vincit/objection.js/issues/227" target="_blank" rel="noopener noreferrer">#227<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>many to many extras can now be aliased. <a href="https://github.com/Vincit/objection.js/issues/223" target="_blank" rel="noopener noreferrer">#223<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>zero values are now allowed in relation columns. <a href="https://github.com/Vincit/objection.js/issues/228" target="_blank" rel="noopener noreferrer">#228<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>active transaction can now be accessed in <code>$before/$after</code> hooks through <code>queryContext.transaction</code> property.</li> <li>Validation can now be easily modified through a new <a href="#validator"><code>Validator</code></a> interface. <a href="https://github.com/Vincit/objection.js/issues/241" target="_blank" rel="noopener noreferrer">#241<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Vincit/objection.js/issues/199" target="_blank" rel="noopener noreferrer">#199<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>fix a <code>JoinEager</code> problem where an empty result for a relation caused the following relations to be empty. <a href="https://github.com/Vincit/objection.js/issues/292" target="_blank" rel="noopener noreferrer">#292<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>ref(fieldExpression)</code> syntax to reduce need for knex.raw and updating single attribute inside JSON column. <a href="https://github.com/Vincit/objection.js/issues/270" target="_blank" rel="noopener noreferrer">#270<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://vincit.github.io/objection.js/#mergeeager" target="_blank" rel="noopener noreferrer">mergeEager<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method.</li></ul> <h3 id="breaking-changes-4"><a href="#breaking-changes-4" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <ul><li><code>$relatedQuery</code> now returns a single model instead of an array for belongsToOne and hasOne relations. <a href="https://github.com/Vincit/objection.js/issues/155" target="_blank" rel="noopener noreferrer">#155<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>identifier of a model can now be updated. Be careful with this one! Before if you forgot a wrong id in an <code>update</code>/<code>patch</code> operation, it would simply get ignored. Now the id is also updated just like any other column <a href="https://github.com/Vincit/objection.js/issues/100" target="_blank" rel="noopener noreferrer">#100<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>Table.*</code> is now selected by default in all queries instead of <code>*</code>. This will break some join queries that don't have an explicit select clause. <a href="https://github.com/Vincit/objection.js/issues/161" target="_blank" rel="noopener noreferrer">#161<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>ValidationError.data</code> is now an object including, for each key, a list of errors with context info. <a href="https://github.com/Vincit/objection.js/issues/283" target="_blank" rel="noopener noreferrer">#283<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-6-2"><a href="#_0-6-2" aria-hidden="true" class="header-anchor">#</a> 0.6.2</h2> <h3 id="what-s-new-48"><a href="#what-s-new-48" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><code>relationMappings</code> can now be a function <a href="https://github.com/Vincit/objection.js/issues/227" target="_blank" rel="noopener noreferrer">#227<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-6-1"><a href="#_0-6-1" aria-hidden="true" class="header-anchor">#</a> 0.6.1</h2> <h3 id="what-s-new-49"><a href="#what-s-new-49" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix bug <a href="https://github.com/Vincit/objection.js/issues/205" target="_blank" rel="noopener noreferrer">#205<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_0-6-0"><a href="#_0-6-0" aria-hidden="true" class="header-anchor">#</a> 0.6.0</h2> <h3 id="what-s-new-50"><a href="#what-s-new-50" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Eager loading can now be done using joins and zero extra queries. See <a href="#eageralgorithm"><code>eagerAlgorithm</code></a>, <a href="#defaulteageralgorithm"><code>defaultEagerAlgorithm</code></a> and <a href="#eager"><code>eager</code></a> for more info.</li> <li><code>#ref</code> in graph inserts can now contain extra properties for many-to-many relations <a href="https://github.com/Vincit/objection.js/issues/156" target="_blank" rel="noopener noreferrer">#156<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>#dbRef</code> can now be used to refer to existing rows from a <code>insertWithRelated</code> graph.</li> <li><a href="#modelpaths"><code>modelPaths</code></a> attribute for cleaner way to point to models in relationMappings.</li> <li><a href="#pickjsonschemaproperties"><code>pickJsonSchemaProperties</code></a> config parameter <a href="https://github.com/Vincit/objection.js/issues/110" target="_blank" rel="noopener noreferrer">#110<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="#insertgraphandfetch"><code>insertGraphAndFetch</code></a> with <code>insertWithRelatedAndFetch</code> alias. <a href="https://github.com/Vincit/objection.js/issues/172" target="_blank" rel="noopener noreferrer">#172<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Added <a href="#_s_beforedelete"><code>$beforeDelete</code></a> and <a href="#_s_afterdelete"><code>$afterDelete</code></a> hooks <a href="https://github.com/Vincit/objection.js/issues/112" target="_blank" rel="noopener noreferrer">#112<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Old values can now be accessed from <code>$beforeUpdate</code>, <code>$afterUpdate</code>, <code>$beforeValidate</code> and <code>$afterValidate</code> hooks <a href="https://github.com/Vincit/objection.js/issues/185" target="_blank" rel="noopener noreferrer">#185<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Support length property <a href="ttps://github.com/Vincit/objection.js/issues/168">#168</a></li> <li>Make sure operations are executed in the order they are called <a href="https://github.com/Vincit/objection.js/issues/180" target="_blank" rel="noopener noreferrer">#180<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Fetch nothing if the <code>where</code> clauses hit no rows in <code>update/patchAndFetchById</code> methods <a href="https://github.com/Vincit/objection.js/issues/189" target="_blank" rel="noopener noreferrer">#189<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Lots of performance tweaks.</li> <li><code>$loadRelated</code> and <code>loadRelated</code> now return a <code>QueryBuilder</code>.</li></ul> <h3 id="breaking-changes-5"><a href="#breaking-changes-5" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <ul><li><p>Undefined values as query method arguments now throw an exception. Before they were just silently ignored
and for example <code>delete().where('id', undefined)</code> caused the entire table to be deleted. <a href="http://vincit.github.io/objection.js/#skipundefined" target="_blank" rel="noopener noreferrer">skipUndefined<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
method can be called for a query builder to handle the undefined values the old way.</p></li> <li><p>Deprecated method <code>dumpSql</code> is now removed.</p></li> <li><p><code>$loadRelated</code> and <code>loadRelated</code> now return a <code>QueryBuilder</code>. This may break your code is some rare cases
where you have called a non-standard promise method like <code>reflect</code> for the return value of these functions.</p></li></ul> <h2 id="_0-5-5"><a href="#_0-5-5" aria-hidden="true" class="header-anchor">#</a> 0.5.5</h2> <h3 id="what-s-new-51"><a href="#what-s-new-51" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="#virtualattributes">Virtual attributes</a></li></ul> <h2 id="_0-5-4"><a href="#_0-5-4" aria-hidden="true" class="header-anchor">#</a> 0.5.4</h2> <h3 id="what-s-new-52"><a href="#what-s-new-52" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>bugfix: insertWithRelated now works with <code>additionalProperties = false</code> in <code>jsonSchema</code></li> <li>Add updateAndFetch and patchAndFetch methods for <code>$query</code></li> <li>bugfix: afterGet was not called for nested models in eager query</li> <li>Use ajv instad of tv4 for json schema validation</li></ul> <h2 id="_0-5-3"><a href="#_0-5-3" aria-hidden="true" class="header-anchor">#</a> 0.5.3</h2> <h3 id="what-s-new-53"><a href="#what-s-new-53" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>ES6 promise compatibility fixes.</li></ul> <h2 id="_0-5-1"><a href="#_0-5-1" aria-hidden="true" class="header-anchor">#</a> 0.5.1</h2> <h3 id="what-s-new-54"><a href="#what-s-new-54" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="#afterget">$afterGet</a> hook.</li></ul> <h2 id="_0-5-0"><a href="#_0-5-0" aria-hidden="true" class="header-anchor">#</a> 0.5.0</h2> <h3 id="what-s-new-55"><a href="#what-s-new-55" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="#joinrelation">joinRelation</a> family of query builder methods.</li> <li><code>HasOneRelation</code> for creating inverse one-to-one relations.</li> <li>Relations have been renamed <code>OneToOneRelation</code> --&gt; <code>BelongsToOneRelation</code>, <code>OneToManyRelation</code> --&gt; <code>HasManyRelation</code>.
The old names work, but have been deprecated.</li> <li><a href="#withschema">withSchema</a> now works as expected and sets the schema of all queries executed by the query builder the
method is called for.</li> <li><a href="#filtereager">filterEager</a> method for better eager query filtering.</li> <li><a href="#relationmappings">extra properties</a> feature for selecting/inserting columns from/to the join table in many-to-many relations.</li> <li>Eager query recursion depth can be controlled like so: <code>parent.^5</code>.</li></ul> <h2 id="_0-4-0"><a href="#_0-4-0" aria-hidden="true" class="header-anchor">#</a> 0.4.0</h2> <h3 id="what-s-new-56"><a href="#what-s-new-56" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Query context feature. See <a href="https://github.com/Vincit/objection.js/issues/51" target="_blank" rel="noopener noreferrer">#51<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="#context">these docs</a> for more info.</li> <li>Composite key support.</li> <li><a href="#findbyid">findById</a>, <a href="#deletebyid">deleteById</a>, <a href="#wherecomposite">whereComposite</a> and
<a href="#whereincomposite">whereInComposite</a> query builder methods.</li></ul> <h3 id="breaking-changes-6"><a href="#breaking-changes-6" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <p>There shouldn't be any major breaking changes. We moved from ES5 to ES7 + babel in this version so there are big changes
in the codebase. If something comes up, please open an issue.</p> <p>There are a few known corner cases that may break:</p> <ul><li><p>You can now define a model for the join table of <code>ManyToMany</code> relations in <code>relationMappings</code>. This is optional,
but may be needed if you already have a model for a <code>ManyToMany</code> relation <em>and</em> you use <code>snake_case</code>
to <code>camelCase</code> conversion for the column names. See the documentation on the <a href="#relationthrough">through</a>
property of <a href="#relationmappings">relationMappings</a>.</p></li> <li><p>The repo no longer contains the actual built javascript. Only the ES7 code that is transpiled when the code is
published to npm. Therefore you can no longer specify a git hash to package.json to use for example the
HEAD version. We will start to publish alpha and RC versions to npm when something new and experimental
is added to the library.</p></li></ul> <h2 id="_0-3-3"><a href="#_0-3-3" aria-hidden="true" class="header-anchor">#</a> 0.3.3</h2> <h3 id="what-s-new-57"><a href="#what-s-new-57" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>fix regression: QueryBuilder.from is broken.</li></ul> <h2 id="_0-3-2"><a href="#_0-3-2" aria-hidden="true" class="header-anchor">#</a> 0.3.2</h2> <h3 id="what-s-new-58"><a href="#what-s-new-58" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Improved relation expression whitespace handling.</li></ul> <h2 id="_0-3-1"><a href="#_0-3-1" aria-hidden="true" class="header-anchor">#</a> 0.3.1</h2> <h3 id="what-s-new-59"><a href="#what-s-new-59" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><code>whereJson*</code> methods can now be used inside functions given to <code>where</code> methods.</li> <li>Added multiple missing knex methods to <code>QueryBuilder</code>.</li></ul> <h2 id="_0-3-0"><a href="#_0-3-0" aria-hidden="true" class="header-anchor">#</a> 0.3.0</h2> <h3 id="what-s-new-60"><a href="#what-s-new-60" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li><a href="http://vincit.github.io/objection.js/QueryBuilder.html#insertWithRelated" target="_blank" rel="noopener noreferrer">insertWithRelated<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method for
inserting model trees</li> <li><a href="http://vincit.github.io/objection.js/QueryBuilder.html#insertAndFetch" target="_blank" rel="noopener noreferrer">insertAndFetch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="http://vincit.github.io/objection.js/QueryBuilder.html#updateAndFetchById" target="_blank" rel="noopener noreferrer">updateAndFetchById<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and
<a href="http://vincit.github.io/objection.js/QueryBuilder.html#patchAndFetchById" target="_blank" rel="noopener noreferrer">patchAndFetchById<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> helper methods</li> <li>Filters for <a href="#eager-queries">eager expressions</a></li> <li><a href="#transaction-object">New alternative way to use transactions</a></li> <li>Many performance updates related to cloning, serializing and deserializing model trees.</li></ul> <h3 id="breaking-changes-7"><a href="#breaking-changes-7" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <ul><li>QueryBuilder methods <code>update</code>, <code>patch</code> and <code>delete</code> now return the number of affected rows.
The new methods <code>updateAndFetchById</code> and <code>patchAndFetchById</code> may help with the migration</li> <li><code>modelInstance.$query()</code> instance method now returns a single model instead of an array</li> <li>Removed <code>Model.generateId()</code> method. <code>$beforeInsert</code> can be used instead</li></ul> <h2 id="_0-2-8"><a href="#_0-2-8" aria-hidden="true" class="header-anchor">#</a> 0.2.8</h2> <h3 id="what-s-new-61"><a href="#what-s-new-61" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>ES6 inheritance support</li> <li>generator function support for transactions</li> <li>traverse,pick and omit methods for Model and QueryBuilder</li> <li>bugfix: issue #38</li></ul> <h2 id="_0-2-7"><a href="#_0-2-7" aria-hidden="true" class="header-anchor">#</a> 0.2.7</h2> <h3 id="what-s-new-62"><a href="#what-s-new-62" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>bugfix: fix #37 also for <code>$query()</code>.</li> <li>Significant <code>toJson</code>/<code>fromJson</code> performance boost.</li></ul> <h2 id="_0-2-6"><a href="#_0-2-6" aria-hidden="true" class="header-anchor">#</a> 0.2.6</h2> <h3 id="what-s-new-63"><a href="#what-s-new-63" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>bugfix: fix regression bug that broke dumpSql.</li></ul> <h2 id="_0-2-5"><a href="#_0-2-5" aria-hidden="true" class="header-anchor">#</a> 0.2.5</h2> <h3 id="what-s-new-64"><a href="#what-s-new-64" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>bugfix: fix regression bug that prevented values assigned to <code>this</code> in <code>$before</code> callbacks from getting into
the actual database query</li></ul> <h2 id="_0-2-4"><a href="#_0-2-4" aria-hidden="true" class="header-anchor">#</a> 0.2.4</h2> <h3 id="what-s-new-65"><a href="#what-s-new-65" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>bugfix: many-to-many relations didn't work correctly with a snake_case to camelCase conversion
in the related model class.</li></ul> <h2 id="_0-2-3"><a href="#_0-2-3" aria-hidden="true" class="header-anchor">#</a> 0.2.3</h2> <h3 id="what-s-new-66"><a href="#what-s-new-66" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>Promise constructor is now exposed through <code>require('objection').Promise</code>.</li></ul> <h2 id="_0-2-2"><a href="#_0-2-2" aria-hidden="true" class="header-anchor">#</a> 0.2.2</h2> <h3 id="what-s-new-67"><a href="#what-s-new-67" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>$beforeUpdate, $afterUpdate, $beforeInsert etc. are now asynchronous and you can return promises from them.</li> <li>Added <code>Model.fn()</code> shortcut to <code>knex.fn</code>.</li> <li>Added missing <code>asCallback</code> and <code>nodeify</code> methods for <code>QueryBuilder</code>.</li></ul> <h2 id="_0-2-1"><a href="#_0-2-1" aria-hidden="true" class="header-anchor">#</a> 0.2.1</h2> <h3 id="what-s-new-68"><a href="#what-s-new-68" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>bugfix: Chaining <code>insert</code> with <code>returning</code> now returns all listed columns.</li></ul> <h2 id="_0-2-0"><a href="#_0-2-0" aria-hidden="true" class="header-anchor">#</a> 0.2.0</h2> <h3 id="what-s-new-69"><a href="#what-s-new-69" aria-hidden="true" class="header-anchor">#</a> What's new</h3> <ul><li>New name <code>objection.js</code>.</li> <li><code>$beforeInsert</code>, <code>$afterInsert</code>, <code>$beforeUpdate</code> and <code>$afterUpdate</code> hooks for <code>Model</code>.</li> <li>Postgres jsonb query methods: <code>whereJsonEquals</code>, <code>whereJsonSupersetOf</code>, <code>whereJsonSubsetOf</code> and friends.</li> <li><code>whereRef</code> query method.</li> <li>Expose <code>knex.raw()</code> through <code>Model.raw()</code>.</li> <li>Expose <code>knex.client.formatter()</code> through <code>Model.formatter()</code>.</li> <li><code>QueryBuilder</code> can be used to make sub queries just like knex's <code>QueryBuilder</code>.</li> <li>Possibility to use a custom <code>QueryBuilder</code> subclass by overriding <code>Model.QueryBuilder</code>.</li> <li>Filter queries/objects for relations.</li> <li>A pile of bug fixes.</li></ul> <h3 id="breaking-changes-8"><a href="#breaking-changes-8" aria-hidden="true" class="header-anchor">#</a> Breaking changes</h3> <ul><li>Project was renamed to objection.js. Migrate simply by replacing <code>moron</code> with <code>objection</code>.</li></ul> <h2 id="_0-1-0"><a href="#_0-1-0" aria-hidden="true" class="header-anchor">#</a> 0.1.0</h2> <p>First release.</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/objection.js/assets/js/app.0c2ebba3.js" defer></script><script src="/objection.js/assets/js/22.6506f0fb.js" defer></script>
  </body>
</html>
