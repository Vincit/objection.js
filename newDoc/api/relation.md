---
sidebarDepth: 2
---

# class Relation

`Relation` is a parsed and normalized instance of a [`RelationMapping`](#relationmapping). `Relation`s can be accessed using the [`getRelations`](#getrelations) method.

`Relation` holds a [`RelationProperty`](#relationproperty) instance for each property that is used to create the relationship between two tables.

`Relation` is actually a base class for all relation types `BelongsToOneRelation`, `HasManyRelation` etc. You can use `instanceof` to determine
the type of the relations (see the example on the right). Note that `HasOneRelation` is a subclass of `HasManyRelation` and `HasOneThroughRelation`
is a subclass of `ManyToManyRelation`. Arrange your `instanceof` checks accordingly.

::: multi-language example begin
::: multi-language section ES2015 begin

```js
class Person extends Model {
  static get relationMappings() {
    return {
      pets: {
        relation: Model.HasManyRelation,
        modelClass: Animal,
        join: {
          from: 'persons.id',
          to: 'animals.ownerId'
        }
      }
    };
  }
}

const relations = Person.getRelations();

console.log(relations.pets instanceof Model.HasManyRelation); // --> true
console.log(relations.pets.name); // --> pets
console.log(relations.pets.ownerProp.cols); // --> ['id']
console.log(relations.pets.relatedProp.cols); // --> ['ownerId']
```

::: multi-language section ES2015 end
::: multi-language section ESNext begin

```js
class Person extends Model {
  static relationMappings = {
    pets: {
      relation: Model.HasManyRelation,
      modelClass: Animal,
      join: {
        from: 'persons.id',
        to: 'animals.ownerId'
      }
    }
  };
}

const relations = Person.getRelations();

console.log(relations.pets instanceof Model.HasManyRelation); // --> true
console.log(relations.pets.name); // --> pets
console.log(relations.pets.ownerProp.cols); // --> ['id']
console.log(relations.pets.relatedProp.cols); // --> ['ownerId']
```

::: multi-language section ESNext end
::: multi-language example end

Property|Type|Description
--------|----|-----------
name|string|Name of the relation. For example `pets` or `children`.
ownerModelClass|function|The model class that has defined the relation.
relatedModelClass|function|The model class of the related objects.
ownerProp|[`RelationProperty`](#relationproperty)|The relation property in the `ownerModelClass`.
relatedProp|[`RelationProperty`](#relationproperty)|The relation property in the `relatedModelClass`.
joinModelClass|function|The model class representing the join table. This class is automatically generated by Objection if none is provided in the `join.through.modelClass` setting of the relation mapping, see [`RelationThrough`](#relationthrough).
joinTable|string|The name of the join table (only for `ManyToMany` and `HasOneThrough` relations).
joinTableOwnerProp|[`RelationProperty`](#relationproperty)|The join table property pointing to `ownerProp` (only for `ManyToMany` and `HasOneThrough` relations).
joinTableRelatedProp|[`RelationProperty`](#relationproperty)|The join table property pointing to `relatedProp` (only for `ManyToMany` and `HasOneThrough` relations).
