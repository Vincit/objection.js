(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{228:function(e,t,a){"use strict";a.r(t);var r=a(0),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"changelog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changelog","aria-hidden":"true"}},[e._v("#")]),e._v(" Changelog")]),e._v(" "),a("h2",{attrs:{id:"_1-6-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-11","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.11")]),e._v(" "),a("ul",[a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1471",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1471"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1470",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1470"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1364",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1364"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1458",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1458"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1467",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1467"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-6-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-10","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.10")]),e._v(" "),a("ul",[a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1455",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1455"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-6-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-9","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.9")]),e._v(" "),a("ul",[a("li",[e._v("Revert fix for "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1089",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1089"),a("OutboundLink")],1),e._v(". It was causing more bugs than it fixed. #1089 will be addressed in 2.0.")]),e._v(" "),a("li",[e._v("Typings updates")])]),e._v(" "),a("h2",{attrs:{id:"_1-6-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.8")]),e._v(" "),a("ul",[a("li",[e._v("Fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1287",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1287"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-6-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.7")]),e._v(" "),a("ul",[a("li",[e._v("A bunch of regression bug fixes.")])]),e._v(" "),a("h2",{attrs:{id:"_1-6-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.3")]),e._v(" "),a("ul",[a("li",[e._v("Fixes: "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1227",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1227"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-6-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.2")]),e._v(" "),a("ul",[a("li",[e._v("Add "),a("code",[e._v("as")]),e._v(" method for "),a("code",[e._v("raw")]),e._v(" making it possible to use "),a("code",[e._v("raw")]),e._v(" expressions in "),a("code",[e._v("joinEager")]),e._v(" modifiers (as long as you give names to your raw expressions using "),a("code",[e._v("as")]),e._v(").")])]),e._v(" "),a("h2",{attrs:{id:"_1-6-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.1")]),e._v(" "),a("ul",[a("li",[e._v("Fix some very rare upsertGraph edge cases.")])]),e._v(" "),a("h2",{attrs:{id:"_1-6-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6.0")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Add "),a("code",[e._v("Model.traverseAsync")]),e._v(" and "),a("code",[e._v("modelInstance.$traverseAsync")]),e._v(" methods.")])]),e._v(" "),a("li",[a("p",[e._v("Fixes: "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/842",target:"_blank",rel:"noopener noreferrer"}},[e._v("#842"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1205",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1205"),a("OutboundLink")],1),e._v('. This bug is about subqueries "inheriting" parent query table name and alias. This bug has been around a long time and there is a small chance that people have started accidentally or on purpose use it as a feature. If you get weird reference errors from subqueries (relation not found, table not found etc.) you may need to explicitly give an alias or use '),a("code",[e._v("from")]),e._v(" in your subqueries after this update. This is a borderline breaking change, but since 2.0 is still pretty far away, I wanted to get this out faster. If I'm wrong and people are heavily depending on this bug, I'll revert the change.")])]),e._v(" "),a("li",[a("p",[e._v("Fixes: "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1215",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1215"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("Fixes: "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1206",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1206"),a("OutboundLink")],1)])])]),e._v(" "),a("h2",{attrs:{id:"_1-5-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.5.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Fixes "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1204",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1204"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-5-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.5.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-2","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Relations are now loaded lazily "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1202",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1202"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("relationMappings.modelClass")]),e._v(" can now be a function that returns a model class.")])]),e._v(" "),a("h2",{attrs:{id:"_1-5-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.5.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-3","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1131",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1131"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1114",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1114"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1185",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1185"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1109",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1109"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1110",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1110"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("add eagerObject and eagerModifiers accessors to QueryBuilder.")]),e._v(" "),a("li",[e._v("complete rewrite of "),a("code",[e._v("insertGraph")]),e._v(" and "),a("code",[e._v("upsertGraph")]),e._v(" code. The rewrite brought a bunch of small performance optimizations and makes future development easier. No breaking changes.")]),e._v(" "),a("li",[e._v("Chaining "),a("code",[e._v("returning('*')")]),e._v(" to "),a("code",[e._v("insertGraph")]),e._v(" or "),a("code",[e._v("upsertGraph")]),e._v(" now propagates the call to all insert, update and delete operations.")]),e._v(" "),a("li",[e._v("Code using objectio can now be transpilsed to ES5. No need to add babel workarounds anymore.")])]),e._v(" "),a("h2",{attrs:{id:"_1-4-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.4.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-4","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Add "),a("code",[e._v("modifierNotFound")]),e._v(" hook "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1120",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1120"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1121",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1121"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1126",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1126"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-3-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.3.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-5","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Use "),a("code",[e._v("objection.raw")]),e._v(" instead of "),a("code",[e._v("knex.raw")]),e._v(" in "),a("code",[e._v("Model.raw")]),e._v(". "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1077",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1077"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Allow modifiers (namedFilters) to be used in "),a("code",[e._v("modifyEager")]),e._v(" too.")]),e._v(" "),a("li",[e._v("Add "),a("code",[e._v("underscoreBeforeDigits")]),e._v(" option for snake case converters. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1025",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1025"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1074",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1074"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Typing fixes")])]),e._v(" "),a("h2",{attrs:{id:"_1-2-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-6","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1007",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1007"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1008",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1008"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1047",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1047"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-2-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-7","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Improve reference cycle detection in "),a("code",[e._v("upsertGraph")])])]),e._v(" "),a("h2",{attrs:{id:"_1-2-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-8","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1009",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1009"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-9","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/919",target:"_blank",rel:"noopener noreferrer"}},[e._v("#919"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/964",target:"_blank",rel:"noopener noreferrer"}},[e._v("#964"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Add "),a("code",[e._v("aliasFor")]),e._v(" method to public API")]),e._v(" "),a("li",[e._v("Prevent bluebird warnings")]),e._v(" "),a("li",[e._v("UPPER_SNAKE_CASE support for "),a("code",[e._v("snakeCaseMappers")]),e._v(" and "),a("code",[e._v("knexSnakeCaseMappers")])])]),e._v(" "),a("h2",{attrs:{id:"_1-1-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-10","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.10")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-10","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Nothing! the npm release was somehow borked. This was just a rerelease of 1.1.9.")])]),e._v(" "),a("h2",{attrs:{id:"_1-1-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-9","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.9")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-11","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/782",target:"_blank",rel:"noopener noreferrer"}},[e._v("#782"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.8")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-12","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/909",target:"_blank",rel:"noopener noreferrer"}},[e._v("#909"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.7")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-13","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/884",target:"_blank",rel:"noopener noreferrer"}},[e._v("#884"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.6")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-14","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Add typings for fetchTableMetadata, tableMetadata and onbuildknex")])]),e._v(" "),a("h2",{attrs:{id:"_1-1-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.5")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-15","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Make "),a("a",{attrs:{href:"#fetchtablemetadata"}},[e._v("Model.fetchTableMetadata")]),e._v(" and "),a("a",{attrs:{href:"#tablemetadata"}},[e._v("Model.tableMetadata")]),e._v(" methods public. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/871",target:"_blank",rel:"noopener noreferrer"}},[e._v("#871"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Add "),a("a",{attrs:{href:"#onbuildknex"}},[e._v("onBuildKnex")]),e._v(" query builder hook. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/807",target:"_blank",rel:"noopener noreferrer"}},[e._v("#807"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.4")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-16","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix subquery bug causing incompatibility with knex 0.14.5 and sqlite3")])]),e._v(" "),a("h2",{attrs:{id:"_1-1-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-17","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix regression in 1.1.2 (sorry about this) "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/869",target:"_blank",rel:"noopener noreferrer"}},[e._v("#869"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-18","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Add "),a("code",[e._v("virtuals")]),e._v(" option for "),a("code",[e._v("toJSON")]),e._v(" and "),a("code",[e._v("$toJson")]),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/866",target:"_blank",rel:"noopener noreferrer"}},[e._v("#866"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/868",target:"_blank",rel:"noopener noreferrer"}},[e._v("#868"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-19","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/865",target:"_blank",rel:"noopener noreferrer"}},[e._v("#865"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix bug where the static "),a("code",[e._v("Model.relatedQuery")]),e._v(" didn't use the relation name as an alias for the table. This may break\ncode if you have explicitly referenced the subquery table. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/859",target:"_blank",rel:"noopener noreferrer"}},[e._v("#859"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-1-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-20","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Optional "),a("a",{attrs:{href:"#relationexpression-object-notation"}},[e._v("object notation")]),e._v(" for relation expressions.")]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/855",target:"_blank",rel:"noopener noreferrer"}},[e._v("#855"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/858",target:"_blank",rel:"noopener noreferrer"}},[e._v("#858"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_1-0-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.0.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-21","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Added public "),a("a",{attrs:{href:"#relation"}},[e._v("Relation.joinModelClass")]),e._v(" accessor")]),e._v(" "),a("li",[e._v("Don't call "),a("code",[e._v("returning")]),e._v(" on sqlite (prevents a warning message added in knex 0.14.4)")]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/844",target:"_blank",rel:"noopener noreferrer"}},[e._v("#844"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Small documentation updates")]),e._v(" "),a("li",[e._v("Small typing fixes end updates")])]),e._v(" "),a("h2",{attrs:{id:"_1-0-0-ðŸŽ‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-ðŸŽ‰","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.0.0 ðŸŽ‰")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-22","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("The static "),a("a",{attrs:{href:"#relatedquery"}},[a("code",[e._v("relatedQuery")])]),e._v(" method.")]),e._v(" "),a("li",[e._v("New reflection methods:\n"),a("a",{attrs:{href:"#isfind"}},[a("code",[e._v("isFind")])]),e._v(",\n"),a("a",{attrs:{href:"#isinsert"}},[a("code",[e._v("isInsert")])]),e._v(",\n"),a("a",{attrs:{href:"#isupdate"}},[a("code",[e._v("isUpdate")])]),e._v(",\n"),a("a",{attrs:{href:"#isdelete"}},[a("code",[e._v("isDelete")])]),e._v(",\n"),a("a",{attrs:{href:"#isrelate"}},[a("code",[e._v("isRelate")])]),e._v(",\n"),a("a",{attrs:{href:"#isunrelate"}},[a("code",[e._v("isUnrelate")])]),e._v(",\n"),a("a",{attrs:{href:"#haswheres"}},[a("code",[e._v("hasWheres")])]),e._v(",\n"),a("a",{attrs:{href:"#hasselects"}},[a("code",[e._v("hasSelects")])]),e._v(",\n"),a("a",{attrs:{href:"#haseager"}},[a("code",[e._v("hasEager")])]),e._v(",\n"),a("a",{attrs:{href:"#has"}},[a("code",[e._v("has")])]),e._v(".\n"),a("a",{attrs:{href:"#clear"}},[a("code",[e._v("clear")])]),e._v(".\n"),a("a",{attrs:{href:"#columnnametopropertyname"}},[a("code",[e._v("columnNameToPropertyName")])]),e._v(",\n"),a("a",{attrs:{href:"#propertynametocolumnname"}},[a("code",[e._v("propertyNameToColumnName")])]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("ManyToMany")]),e._v(" extras now work consistently in queries and filters. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/760",target:"_blank",rel:"noopener noreferrer"}},[e._v("#760"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("modelInstance.$query().delete().returning(something)")]),e._v(" now returns a single instance instead of an array. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/659",target:"_blank",rel:"noopener noreferrer"}},[e._v("#659"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("Node 6.0.0 is now the minimum. Objection will not work on node < 6.0.0.")])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#validationerror"}},[a("code",[e._v("ValidationError")])]),e._v(" overhaul. This is a big one, so read this carefully! There are three things to check when you migrate to 1.0:")]),e._v(" "),a("ol",[a("li",[e._v("The "),a("a",{attrs:{href:"#createvalidationerror"}},[a("code",[e._v("createValidationError")])]),e._v(" and "),a("a",{attrs:{href:"#validationerror"}},[a("code",[e._v("ValidationError")])]),e._v(" interfaces have changed.\nIf you have overridden the "),a("code",[e._v("createValidationError")]),e._v(" method in your project, or you create custom "),a("code",[e._v("ValidationError")]),e._v(" instances\nyou need migrate to the interfaces.")]),e._v(" "),a("li",[e._v("The model validation errors (jsonSchema violations) have remained pretty much the same but there are couple of differences. Before, the\nkeys of "),a("code",[e._v("error.data")]),e._v(" were property names even when a nested object in a graph failed a validation. Now the keys for nested\nvalidation errors are key paths like "),a("code",[e._v("foo.bar[2].spam")]),e._v(". Another tiny difference is the order of validation errors for each key in\n"),a("code",[e._v("error.data")]),e._v(". Let's say a property "),a("code",[e._v("spam")]),e._v(" failed for your model and "),a("code",[e._v("error.data.spam")]),e._v(" contains an array of objects that describe\nthe failures. Before, the first failed validation was the last item in the array, now it is the first item.")]),e._v(" "),a("li",[e._v("All "),a("a",{attrs:{href:"#validationerror"}},[a("code",[e._v("ValidationErrors")])]),e._v(" now have a "),a("code",[e._v("type")]),e._v(" field. Before all "),a("a",{attrs:{href:"#validationerror"}},[a("code",[e._v("ValidationErrors")])]),e._v(' but the model\nvalidation errors (errors like "invalid relation expression", or "cyclic model graph") had no type, and could only be identified\nbased on the existence of some weird key in '),a("code",[e._v("error.data")]),e._v(". The "),a("code",[e._v("error.data")]),e._v(" is now removed from those errors and the "),a("code",[e._v("type")]),e._v(" should be\nused instead. The message from the data is now stored in "),a("code",[e._v("error.message")]),e._v(".")])])]),e._v(" "),a("li",[a("p",[e._v("Removed deprecated methods "),a("code",[e._v("whereRef")]),e._v(", "),a("code",[e._v("whereJsonField")]),e._v(" and "),a("code",[e._v("whereJsonEquals")]),e._v(". The "),a("a",{attrs:{href:"#ref"}},[a("code",[e._v("ref")])]),e._v(" helper can be used to replace the\n"),a("code",[e._v("whereRef")]),e._v(" calls. "),a("a",{attrs:{href:"#ref"}},[a("code",[e._v("ref")])]),e._v(" and "),a("a",{attrs:{href:"#lit"}},[a("code",[e._v("lit")])]),e._v(" can be used to replace the removed json methods.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("ManyToMany")]),e._v(" extras now work consistently in queries and filters. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/760",target:"_blank",rel:"noopener noreferrer"}},[e._v("#760"),a("OutboundLink")],1),e._v('. This is not\na breaking change per se, but can cause some queries to fail with a "ambiguous identifier" error because the join table is now joined\nin places where it previously wasn\'t. You need to explicitly specify the table for those failing columns using '),a("code",[e._v("Table.theColumn")]),e._v(" syntax.")])])]),e._v(" "),a("h3",{attrs:{id:"changes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changes","aria-hidden":"true"}},[e._v("#")]),e._v(" Changes")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("isFindQuery")]),e._v(" is renamed to "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#isfind",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("isFind")]),a("OutboundLink")],1),e._v(" and deprecated.")])]),e._v(" "),a("h2",{attrs:{id:"_0-9-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.9.4")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-23","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Fixed "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/627",target:"_blank",rel:"noopener noreferrer"}},[e._v("#627"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixed "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/671",target:"_blank",rel:"noopener noreferrer"}},[e._v("#671"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixed "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/672",target:"_blank",rel:"noopener noreferrer"}},[e._v("#672"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixed "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/674",target:"_blank",rel:"noopener noreferrer"}},[e._v("#674"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-9-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.9.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-24"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-24","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Add beforeInsert hook for relations. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/649",target:"_blank",rel:"noopener noreferrer"}},[e._v("#649"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/19",target:"_blank",rel:"noopener noreferrer"}},[e._v("#19"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Add "),a("a",{attrs:{href:"#relatedfindquerymutates"}},[a("code",[e._v("relatedFindQueryMutates")])]),e._v(" and "),a("a",{attrs:{href:"#relatedinsertquerymutates"}},[a("code",[e._v("relatedInsertQueryMutates")])]),e._v(" configs as well as "),a("a",{attrs:{href:"#_s_setrelated"}},[a("code",[e._v("$setRelated")])]),e._v(" and "),a("a",{attrs:{href:"#_s_appendrelated"}},[a("code",[e._v("$appendRelated")])]),e._v(" helpers. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/599",target:"_blank",rel:"noopener noreferrer"}},[e._v("#599"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixed "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/648",target:"_blank",rel:"noopener noreferrer"}},[e._v("#648"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-9-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.9.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-25"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-25","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Fix regression: "),a("code",[e._v("from")]),e._v(" fails with a subquery.")])]),e._v(" "),a("h2",{attrs:{id:"_0-9-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.9.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-26"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-26","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#castto",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("castTo")]),a("OutboundLink")],1),e._v(" method for setting the model class of query result rows.")]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#onerror",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("onError")]),a("OutboundLink")],1),e._v(" "),a("code",[e._v("QueryBuilder")]),e._v(" method.")]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#objection-knexsnakecasemappers",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("knexSnakeCaseMappers")]),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#objection-snakecasemappers",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("snakeCaseMappers")]),a("OutboundLink")],1),e._v(" for snake_case to camelCase conversions.")])]),e._v(" "),a("h2",{attrs:{id:"_0-9-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.9.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-27"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-27","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Relations can now be defined using keys inside JSON columns. See the examples "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#relationmappings",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#lit",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("lit")]),a("OutboundLink")],1),e._v(" helper function "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/275",target:"_blank",rel:"noopener noreferrer"}},[e._v("#275"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixes for "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#upsertgraph",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("upsertGraph")]),a("OutboundLink")],1),e._v(" when using composite keys. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/517",target:"_blank",rel:"noopener noreferrer"}},[e._v("#517"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Added "),a("code",[e._v("noDelete")]),e._v(", "),a("code",[e._v("noUpdate")]),e._v(", "),a("code",[e._v("noInsert")]),e._v(", "),a("code",[e._v("noRelate")]),e._v(" and "),a("code",[e._v("noUnrelate")]),e._v(" options for "),a("code",[e._v("upsertGraph")]),e._v(". See "),a("a",{attrs:{href:"#upsertgraphoptions"}},[e._v("UpsertGraphOptions docs")]),e._v(" for more info.")]),e._v(" "),a("li",[a("code",[e._v("insertGraph")]),e._v(" now accepts an options object just like "),a("code",[e._v("upsertGraph")]),e._v(". "),a("code",[e._v("relate")]),e._v(" option can be used instead of "),a("code",[e._v("#dbRef")]),e._v(". "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/586",target:"_blank",rel:"noopener noreferrer"}},[e._v("#586"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Instance update/patch with "),a("code",[e._v("returning")]),e._v(" now return a single object instead of an array. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/423",target:"_blank",rel:"noopener noreferrer"}},[e._v("#423"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("Because of the support for JSON relations "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#relation",target:"_blank",rel:"noopener noreferrer"}},[e._v("the "),a("code",[e._v("Relation")]),e._v(" class"),a("OutboundLink")],1),e._v("\nhas changed a bit.")])])]),e._v(" "),a("h2",{attrs:{id:"_0-8-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.8")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-28"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-28","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Typing updates: "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/489",target:"_blank",rel:"noopener noreferrer"}},[e._v("#489"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/487",target:"_blank",rel:"noopener noreferrer"}},[e._v("#487"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Improve "),a("code",[e._v("resultSize")]),e._v(" method. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/213",target:"_blank",rel:"noopener noreferrer"}},[e._v("#213"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Avoid unnecessary updates in upsertGraph "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/480",target:"_blank",rel:"noopener noreferrer"}},[e._v("#480"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.7")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-29","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("throwIfNotFound")]),e._v(" now also throws when update or delete doesn't change any rows.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#mixin"}},[a("code",[e._v("mixin")])]),e._v(" and "),a("a",{attrs:{href:"#compose"}},[a("code",[e._v("compose")])]),e._v(" helpers for applying multiple plugins. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/475",target:"_blank",rel:"noopener noreferrer"}},[e._v("#475"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/473",target:"_blank",rel:"noopener noreferrer"}},[e._v("#473"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Typing updates "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/474",target:"_blank",rel:"noopener noreferrer"}},[e._v("#474"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/479",target:"_blank",rel:"noopener noreferrer"}},[e._v("#479"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("upsertGraph")]),e._v(" now validates patched models correctly. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/477",target:"_blank",rel:"noopener noreferrer"}},[e._v("#477"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.6")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-30","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Finally: the first version of "),a("a",{attrs:{href:"#graph-upserts"}},[a("code",[e._v("upsertGraph")])]),e._v(" method! Please open issues about bugs, WTFs and missing features.")]),e._v(" "),a("li",[e._v("Strip readonly virtual properties in fromJson & friends "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/432",target:"_blank",rel:"noopener noreferrer"}},[e._v("#432"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fixed "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/439",target:"_blank",rel:"noopener noreferrer"}},[e._v("#439"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.5")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-31","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Add "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#uselimitinfirst",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Model.useLimitInFirst")]),a("OutboundLink")],1),e._v(" configuration flag.")])]),e._v(" "),a("h2",{attrs:{id:"_0-8-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.4")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-32"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-32","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("New shorthand methods "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#joineager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("joinEager")]),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#naiveeager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("naiveEager")]),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#mergejoineager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("mergeJoinEager")]),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#mergenaiveeager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("mergeNaiveEager")]),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("li",[e._v("New shorthand method "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#findone",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("findOne")]),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("New reflection method "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#isfind",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("isFindQuery")]),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("ManyToMany extra properties can now be updated "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/413",target:"_blank",rel:"noopener noreferrer"}},[e._v("#413"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-33"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-33","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#eager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("NaiveEagerAlogrithm")]),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#relationexpression",target:"_blank",rel:"noopener noreferrer"}},[e._v("Aliases in relation expressions"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/402",target:"_blank",rel:"noopener noreferrer"}},[e._v("#402"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("New lazily evaluated "),a("code",[e._v("raw")]),e._v(" function. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/275",target:"_blank",rel:"noopener noreferrer"}},[e._v("#275"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-34"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-34","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#namedfilters",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Model.namedFilters")]),a("OutboundLink")],1),e._v(" object for defining shared filters that can be used by name in eager expressions.")]),e._v(" "),a("li",[e._v("Full support for views and table aliases in eager, join, joinRelation etc. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/181",target:"_blank",rel:"noopener noreferrer"}},[e._v("#181"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fix "),a("code",[e._v("bindTransaction")]),e._v(" bug with "),a("code",[e._v("ManyToManyRelation")]),e._v(" junction tables "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/395",target:"_blank",rel:"noopener noreferrer"}},[e._v("#395"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-35"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-35","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#throwifnotfound",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("throwIfNotFound")]),a("OutboundLink")],1),e._v(" method for making empty query results throw an exception.")]),e._v(" "),a("li",[e._v("fix error when passing model instance to a "),a("code",[e._v("where")]),e._v(" method. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/387",target:"_blank",rel:"noopener noreferrer"}},[e._v("#387"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-8-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.8.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-36"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-36","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("All query methods now call "),a("code",[e._v("Model.query")]),e._v(" to create a "),a("code",[e._v("QueryBuilder")]),e._v(" instance "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/346",target:"_blank",rel:"noopener noreferrer"}},[e._v("#346"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Objection is no longer transpiled. One of the implications is that you can use a github\nlink in package.json to test experimental versions.")]),e._v(" "),a("li",[a("code",[e._v("count")]),e._v(" can now be called without arguments "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/364",target:"_blank",rel:"noopener noreferrer"}},[e._v("#364"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("A new "),a("a",{attrs:{href:"#getrelations"}},[a("code",[e._v("getRelations")])]),e._v(" method for plugin development and other reflection greatness.")])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("blockquote",[a("p",[e._v("Old model definition")])]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Model")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\nModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("extend")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\nPerson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("tableName "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Person'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("fullName")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("' '")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("lastName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// More static and prototype methods.")]),e._v("\n")])])]),a("blockquote",[a("p",[e._v("Easiest way to migrate to "),a("code",[e._v("class")]),e._v(" and "),a("code",[e._v("extends")]),e._v(" keywords")])]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Person")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Model")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\nPerson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("tableName "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Person'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("fullName")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("' '")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("lastName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// More static and prototype methods.")]),e._v("\n")])])]),a("ul",[a("li",[a("p",[e._v("Support for node versions below 4.0.0 has been removed. With it the support for legacy class inheritance using "),a("code",[e._v("Model.extend")]),e._v(" method\nhas also been removed. This means that you need to change your model definitions to use the "),a("code",[e._v("class")]),e._v(" and "),a("code",[e._v("extends")]),e._v(" keywords.\nTo achieve this with the minimum amount of changes you can simply swap the constructor function and "),a("code",[e._v("Model.extend")]),e._v(" to\na class definition. You can still define all static and prototype methods and properties the old way. See the example on the right --\x3e")]),e._v(" "),a("p",[e._v("Note that this also affects Babel transpilation. You cannot (or need to) use "),a("code",[e._v("babel-plugin-transform-es2015-classes")]),e._v(" anymore.\nSee the "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/tree/master/examples/express-es7",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESNext example project"),a("OutboundLink")],1),e._v(" as an example of\nhow to setup babel.")])]),e._v(" "),a("li",[a("p",[e._v("The default value of "),a("a",{attrs:{href:"#pickjsonschemaproperties"}},[a("code",[e._v("pickJsonSchemaProperties")])]),e._v(" was changed to "),a("code",[e._v("false")]),e._v(". Before, all properties that\nwere not listed in "),a("code",[e._v("jsonSchema")]),e._v(" were removed before "),a("code",[e._v("insert")]),e._v(", "),a("code",[e._v("patch")]),e._v(" or "),a("code",[e._v("update")]),e._v(" (if "),a("code",[e._v("jsonSchma")]),e._v(" was defined). Starting from\nthis version you need to explicitly set the value to "),a("code",[e._v("true")]),e._v(". You may have been used this feature by accident.\nIf you have weird problems after the update, try setting "),a("code",[e._v("objection.Model.pickJsonSchemaProperties = true;")]),e._v(" to see\nif it helps.")])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#pickjsonschemaproperties"}},[a("code",[e._v("relate")])]),e._v(" and "),a("a",{attrs:{href:"#pickjsonschemaproperties"}},[a("code",[e._v("unrelate")])]),e._v(" methods now return the result of the\nunderlying query ("),a("code",[e._v("patch")]),e._v(" in case of "),a("code",[e._v("HasManyRelation")]),e._v(", "),a("code",[e._v("HasOneRelation")]),e._v(", and "),a("code",[e._v("BelongsToOneRelation")]),e._v(". "),a("code",[e._v("insert")]),e._v(" otherwise).\nBefore the method input was always returned.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("Model.RelatedQueryBuilder")]),e._v(" is removed. "),a("code",[e._v("Model.QueryBuilder")]),e._v(" is now used to create all query builders for the model.\nThis only affects you if you have defined custom query builders.")])])]),e._v(" "),a("h2",{attrs:{id:"_0-7-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-12","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.12")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-37"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-37","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/345",target:"_blank",rel:"noopener noreferrer"}},[e._v("#345"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-7-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-11","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.11")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-38"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-38","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/339",target:"_blank",rel:"noopener noreferrer"}},[e._v("#339"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/341",target:"_blank",rel:"noopener noreferrer"}},[e._v("#341"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-7-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-10","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.10")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-39"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-39","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix bugs that prevented using "),a("code",[e._v("$relatedQuery")]),e._v(" and "),a("code",[e._v("eager")]),e._v(" together with "),a("code",[e._v("JoinEagerAlgorithm")])]),e._v(" "),a("li",[e._v("typing updates")])]),e._v(" "),a("h2",{attrs:{id:"_0-7-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-9","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.9")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-40"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-40","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#joinrelation",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("joinRelation")]),a("OutboundLink")],1),e._v(" now accepts "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#relationexpression",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("RelationExpressions")]),a("OutboundLink")],1),e._v(" and can join multiple and nested relations.")])]),e._v(" "),a("h2",{attrs:{id:"_0-7-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.6")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-41"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-41","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("range")]),e._v(" and "),a("code",[e._v("page")]),e._v(" methods now use a window function and only generate one query on postgresql "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/62",target:"_blank",rel:"noopener noreferrer"}},[e._v("#62"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix MSSQL 2100 parameter limit in eager queries "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/311",target:"_blank",rel:"noopener noreferrer"}},[e._v("#311"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-7-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.5")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-42"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-42","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/327",target:"_blank",rel:"noopener noreferrer"}},[e._v("#327"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/256",target:"_blank",rel:"noopener noreferrer"}},[e._v("#256"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-7-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.4")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-43"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-43","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("automatically select columns needed for relations "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/309",target:"_blank",rel:"noopener noreferrer"}},[e._v("#309"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix an issue where "),a("code",[e._v("$formatJson")]),e._v(" was called inside "),a("code",[e._v("insertGraph")]),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/326",target:"_blank",rel:"noopener noreferrer"}},[e._v("#326"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-7-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-44"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-44","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/325",target:"_blank",rel:"noopener noreferrer"}},[e._v("#325"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix an issue where "),a("code",[e._v("select")]),e._v(" had to be used in addition to "),a("code",[e._v("distinct")]),e._v(" in some cases")])]),e._v(" "),a("h2",{attrs:{id:"_0-7-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-45"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-45","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("HasOneThroughRelation")]),e._v(" relation type.")])]),e._v(" "),a("h2",{attrs:{id:"_0-7-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-46"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-46","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix "),a("code",[e._v("JoinEagerAlgorithm")]),e._v(" NPE bug")])]),e._v(" "),a("h2",{attrs:{id:"_0-7-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.7.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-47"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-47","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("jsonSchema")]),e._v(" without "),a("code",[e._v("properties")]),e._v(" now works. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/205",target:"_blank",rel:"noopener noreferrer"}},[e._v("#205"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("relationMappings")]),e._v(" can now be a function. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/227",target:"_blank",rel:"noopener noreferrer"}},[e._v("#227"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("many to many extras can now be aliased. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/223",target:"_blank",rel:"noopener noreferrer"}},[e._v("#223"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("zero values are now allowed in relation columns. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/228",target:"_blank",rel:"noopener noreferrer"}},[e._v("#228"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("active transaction can now be accessed in "),a("code",[e._v("$before/$after")]),e._v(" hooks through "),a("code",[e._v("queryContext.transaction")]),e._v(" property.")]),e._v(" "),a("li",[e._v("Validation can now be easily modified through a new "),a("a",{attrs:{href:"#validator"}},[a("code",[e._v("Validator")])]),e._v(" interface. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/241",target:"_blank",rel:"noopener noreferrer"}},[e._v("#241"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/199",target:"_blank",rel:"noopener noreferrer"}},[e._v("#199"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("fix a "),a("code",[e._v("JoinEager")]),e._v(" problem where an empty result for a relation caused the following relations to be empty. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/292",target:"_blank",rel:"noopener noreferrer"}},[e._v("#292"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("ref(fieldExpression)")]),e._v(" syntax to reduce need for knex.raw and updating single attribute inside JSON column. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/270",target:"_blank",rel:"noopener noreferrer"}},[e._v("#270"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/#mergeeager",target:"_blank",rel:"noopener noreferrer"}},[e._v("mergeEager"),a("OutboundLink")],1),e._v(" method.")])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("$relatedQuery")]),e._v(" now returns a single model instead of an array for belongsToOne and hasOne relations. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/155",target:"_blank",rel:"noopener noreferrer"}},[e._v("#155"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("identifier of a model can now be updated. Be careful with this one! Before if you forgot a wrong id in an "),a("code",[e._v("update")]),e._v("/"),a("code",[e._v("patch")]),e._v(" operation, it would simply get ignored. Now the id is also updated just like any other column "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/100",target:"_blank",rel:"noopener noreferrer"}},[e._v("#100"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("Table.*")]),e._v(" is now selected by default in all queries instead of "),a("code",[e._v("*")]),e._v(". This will break some join queries that don't have an explicit select clause. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/161",target:"_blank",rel:"noopener noreferrer"}},[e._v("#161"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("ValidationError.data")]),e._v(" is now an object including, for each key, a list of errors with context info. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/283",target:"_blank",rel:"noopener noreferrer"}},[e._v("#283"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-6-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.6.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-48"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-48","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("relationMappings")]),e._v(" can now be a function "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/227",target:"_blank",rel:"noopener noreferrer"}},[e._v("#227"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-6-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.6.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-49"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-49","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix bug "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/205",target:"_blank",rel:"noopener noreferrer"}},[e._v("#205"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_0-6-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.6.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-50"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-50","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Eager loading can now be done using joins and zero extra queries. See "),a("a",{attrs:{href:"#eageralgorithm"}},[a("code",[e._v("eagerAlgorithm")])]),e._v(", "),a("a",{attrs:{href:"#defaulteageralgorithm"}},[a("code",[e._v("defaultEagerAlgorithm")])]),e._v(" and "),a("a",{attrs:{href:"#eager"}},[a("code",[e._v("eager")])]),e._v(" for more info.")]),e._v(" "),a("li",[a("code",[e._v("#ref")]),e._v(" in graph inserts can now contain extra properties for many-to-many relations "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/156",target:"_blank",rel:"noopener noreferrer"}},[e._v("#156"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("code",[e._v("#dbRef")]),e._v(" can now be used to refer to existing rows from a "),a("code",[e._v("insertWithRelated")]),e._v(" graph.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#modelpaths"}},[a("code",[e._v("modelPaths")])]),e._v(" attribute for cleaner way to point to models in relationMappings.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#pickjsonschemaproperties"}},[a("code",[e._v("pickJsonSchemaProperties")])]),e._v(" config parameter "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/110",target:"_blank",rel:"noopener noreferrer"}},[e._v("#110"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"#insertgraphandfetch"}},[a("code",[e._v("insertGraphAndFetch")])]),e._v(" with "),a("code",[e._v("insertWithRelatedAndFetch")]),e._v(" alias. "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/172",target:"_blank",rel:"noopener noreferrer"}},[e._v("#172"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Added "),a("a",{attrs:{href:"#_s_beforedelete"}},[a("code",[e._v("$beforeDelete")])]),e._v(" and "),a("a",{attrs:{href:"#_s_afterdelete"}},[a("code",[e._v("$afterDelete")])]),e._v(" hooks "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/112",target:"_blank",rel:"noopener noreferrer"}},[e._v("#112"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Old values can now be accessed from "),a("code",[e._v("$beforeUpdate")]),e._v(", "),a("code",[e._v("$afterUpdate")]),e._v(", "),a("code",[e._v("$beforeValidate")]),e._v(" and "),a("code",[e._v("$afterValidate")]),e._v(" hooks "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/185",target:"_blank",rel:"noopener noreferrer"}},[e._v("#185"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Support length property "),a("a",{attrs:{href:"ttps://github.com/Vincit/objection.js/issues/168"}},[e._v("#168")])]),e._v(" "),a("li",[e._v("Make sure operations are executed in the order they are called "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/180",target:"_blank",rel:"noopener noreferrer"}},[e._v("#180"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Fetch nothing if the "),a("code",[e._v("where")]),e._v(" clauses hit no rows in "),a("code",[e._v("update/patchAndFetchById")]),e._v(" methods "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/189",target:"_blank",rel:"noopener noreferrer"}},[e._v("#189"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Lots of performance tweaks.")]),e._v(" "),a("li",[a("code",[e._v("$loadRelated")]),e._v(" and "),a("code",[e._v("loadRelated")]),e._v(" now return a "),a("code",[e._v("QueryBuilder")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Undefined values as query method arguments now throw an exception. Before they were just silently ignored\nand for example "),a("code",[e._v("delete().where('id', undefined)")]),e._v(" caused the entire table to be deleted. "),a("a",{attrs:{href:"http://vincit.github.io/objection.js/#skipundefined",target:"_blank",rel:"noopener noreferrer"}},[e._v("skipUndefined"),a("OutboundLink")],1),e._v("\nmethod can be called for a query builder to handle the undefined values the old way.")])]),e._v(" "),a("li",[a("p",[e._v("Deprecated method "),a("code",[e._v("dumpSql")]),e._v(" is now removed.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("$loadRelated")]),e._v(" and "),a("code",[e._v("loadRelated")]),e._v(" now return a "),a("code",[e._v("QueryBuilder")]),e._v(". This may break your code is some rare cases\nwhere you have called a non-standard promise method like "),a("code",[e._v("reflect")]),e._v(" for the return value of these functions.")])])]),e._v(" "),a("h2",{attrs:{id:"_0-5-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.5.5")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-51"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-51","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#virtualattributes"}},[e._v("Virtual attributes")])])]),e._v(" "),a("h2",{attrs:{id:"_0-5-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.5.4")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-52"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-52","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("bugfix: insertWithRelated now works with "),a("code",[e._v("additionalProperties = false")]),e._v(" in "),a("code",[e._v("jsonSchema")])]),e._v(" "),a("li",[e._v("Add updateAndFetch and patchAndFetch methods for "),a("code",[e._v("$query")])]),e._v(" "),a("li",[e._v("bugfix: afterGet was not called for nested models in eager query")]),e._v(" "),a("li",[e._v("Use ajv instad of tv4 for json schema validation")])]),e._v(" "),a("h2",{attrs:{id:"_0-5-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.5.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-53"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-53","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("ES6 promise compatibility fixes.")])]),e._v(" "),a("h2",{attrs:{id:"_0-5-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.5.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-54"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-54","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#afterget"}},[e._v("$afterGet")]),e._v(" hook.")])]),e._v(" "),a("h2",{attrs:{id:"_0-5-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.5.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-55"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-55","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#joinrelation"}},[e._v("joinRelation")]),e._v(" family of query builder methods.")]),e._v(" "),a("li",[a("code",[e._v("HasOneRelation")]),e._v(" for creating inverse one-to-one relations.")]),e._v(" "),a("li",[e._v("Relations have been renamed "),a("code",[e._v("OneToOneRelation")]),e._v(" --\x3e "),a("code",[e._v("BelongsToOneRelation")]),e._v(", "),a("code",[e._v("OneToManyRelation")]),e._v(" --\x3e "),a("code",[e._v("HasManyRelation")]),e._v(".\nThe old names work, but have been deprecated.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#withschema"}},[e._v("withSchema")]),e._v(" now works as expected and sets the schema of all queries executed by the query builder the\nmethod is called for.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#filtereager"}},[e._v("filterEager")]),e._v(" method for better eager query filtering.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#relationmappings"}},[e._v("extra properties")]),e._v(" feature for selecting/inserting columns from/to the join table in many-to-many relations.")]),e._v(" "),a("li",[e._v("Eager query recursion depth can be controlled like so: "),a("code",[e._v("parent.^5")]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"_0-4-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-4-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.4.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-56"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-56","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Query context feature. See "),a("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/51",target:"_blank",rel:"noopener noreferrer"}},[e._v("#51"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"#context"}},[e._v("these docs")]),e._v(" for more info.")]),e._v(" "),a("li",[e._v("Composite key support.")]),e._v(" "),a("li",[a("a",{attrs:{href:"#findbyid"}},[e._v("findById")]),e._v(", "),a("a",{attrs:{href:"#deletebyid"}},[e._v("deleteById")]),e._v(", "),a("a",{attrs:{href:"#wherecomposite"}},[e._v("whereComposite")]),e._v(" and\n"),a("a",{attrs:{href:"#whereincomposite"}},[e._v("whereInComposite")]),e._v(" query builder methods.")])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-6","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("p",[e._v("There shouldn't be any major breaking changes. We moved from ES5 to ES7 + babel in this version so there are big changes\nin the codebase. If something comes up, please open an issue.")]),e._v(" "),a("p",[e._v("There are a few known corner cases that may break:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("You can now define a model for the join table of "),a("code",[e._v("ManyToMany")]),e._v(" relations in "),a("code",[e._v("relationMappings")]),e._v(". This is optional,\nbut may be needed if you already have a model for a "),a("code",[e._v("ManyToMany")]),e._v(" relation "),a("em",[e._v("and")]),e._v(" you use "),a("code",[e._v("snake_case")]),e._v("\nto "),a("code",[e._v("camelCase")]),e._v(" conversion for the column names. See the documentation on the "),a("a",{attrs:{href:"#relationthrough"}},[e._v("through")]),e._v("\nproperty of "),a("a",{attrs:{href:"#relationmappings"}},[e._v("relationMappings")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("The repo no longer contains the actual built javascript. Only the ES7 code that is transpiled when the code is\npublished to npm. Therefore you can no longer specify a git hash to package.json to use for example the\nHEAD version. We will start to publish alpha and RC versions to npm when something new and experimental\nis added to the library.")])])]),e._v(" "),a("h2",{attrs:{id:"_0-3-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.3.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-57"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-57","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("fix regression: QueryBuilder.from is broken.")])]),e._v(" "),a("h2",{attrs:{id:"_0-3-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.3.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-58"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-58","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Improved relation expression whitespace handling.")])]),e._v(" "),a("h2",{attrs:{id:"_0-3-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.3.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-59"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-59","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("whereJson*")]),e._v(" methods can now be used inside functions given to "),a("code",[e._v("where")]),e._v(" methods.")]),e._v(" "),a("li",[e._v("Added multiple missing knex methods to "),a("code",[e._v("QueryBuilder")]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"_0-3-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.3.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-60"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-60","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#insertWithRelated",target:"_blank",rel:"noopener noreferrer"}},[e._v("insertWithRelated"),a("OutboundLink")],1),e._v(" method for\ninserting model trees")]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#insertAndFetch",target:"_blank",rel:"noopener noreferrer"}},[e._v("insertAndFetch"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#updateAndFetchById",target:"_blank",rel:"noopener noreferrer"}},[e._v("updateAndFetchById"),a("OutboundLink")],1),e._v(" and\n"),a("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#patchAndFetchById",target:"_blank",rel:"noopener noreferrer"}},[e._v("patchAndFetchById"),a("OutboundLink")],1),e._v(" helper methods")]),e._v(" "),a("li",[e._v("Filters for "),a("a",{attrs:{href:"#eager-queries"}},[e._v("eager expressions")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#transaction-object"}},[e._v("New alternative way to use transactions")])]),e._v(" "),a("li",[e._v("Many performance updates related to cloning, serializing and deserializing model trees.")])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-7","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("ul",[a("li",[e._v("QueryBuilder methods "),a("code",[e._v("update")]),e._v(", "),a("code",[e._v("patch")]),e._v(" and "),a("code",[e._v("delete")]),e._v(" now return the number of affected rows.\nThe new methods "),a("code",[e._v("updateAndFetchById")]),e._v(" and "),a("code",[e._v("patchAndFetchById")]),e._v(" may help with the migration")]),e._v(" "),a("li",[a("code",[e._v("modelInstance.$query()")]),e._v(" instance method now returns a single model instead of an array")]),e._v(" "),a("li",[e._v("Removed "),a("code",[e._v("Model.generateId()")]),e._v(" method. "),a("code",[e._v("$beforeInsert")]),e._v(" can be used instead")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.8")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-61"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-61","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("ES6 inheritance support")]),e._v(" "),a("li",[e._v("generator function support for transactions")]),e._v(" "),a("li",[e._v("traverse,pick and omit methods for Model and QueryBuilder")]),e._v(" "),a("li",[e._v("bugfix: issue #38")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.7")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-62"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-62","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("bugfix: fix #37 also for "),a("code",[e._v("$query()")]),e._v(".")]),e._v(" "),a("li",[e._v("Significant "),a("code",[e._v("toJson")]),e._v("/"),a("code",[e._v("fromJson")]),e._v(" performance boost.")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.6")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-63"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-63","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("bugfix: fix regression bug that broke dumpSql.")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.5")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-64","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("bugfix: fix regression bug that prevented values assigned to "),a("code",[e._v("this")]),e._v(" in "),a("code",[e._v("$before")]),e._v(" callbacks from getting into\nthe actual database query")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.4")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-65"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-65","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("bugfix: many-to-many relations didn't work correctly with a snake_case to camelCase conversion\nin the related model class.")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.3")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-66"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-66","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("Promise constructor is now exposed through "),a("code",[e._v("require('objection').Promise")]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.2")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-67"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-67","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("$beforeUpdate, $afterUpdate, $beforeInsert etc. are now asynchronous and you can return promises from them.")]),e._v(" "),a("li",[e._v("Added "),a("code",[e._v("Model.fn()")]),e._v(" shortcut to "),a("code",[e._v("knex.fn")]),e._v(".")]),e._v(" "),a("li",[e._v("Added missing "),a("code",[e._v("asCallback")]),e._v(" and "),a("code",[e._v("nodeify")]),e._v(" methods for "),a("code",[e._v("QueryBuilder")]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-1","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.1")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-68"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-68","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("bugfix: Chaining "),a("code",[e._v("insert")]),e._v(" with "),a("code",[e._v("returning")]),e._v(" now returns all listed columns.")])]),e._v(" "),a("h2",{attrs:{id:"_0-2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.2.0")]),e._v(" "),a("h3",{attrs:{id:"what-s-new-69"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-69","aria-hidden":"true"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),a("ul",[a("li",[e._v("New name "),a("code",[e._v("objection.js")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("$beforeInsert")]),e._v(", "),a("code",[e._v("$afterInsert")]),e._v(", "),a("code",[e._v("$beforeUpdate")]),e._v(" and "),a("code",[e._v("$afterUpdate")]),e._v(" hooks for "),a("code",[e._v("Model")]),e._v(".")]),e._v(" "),a("li",[e._v("Postgres jsonb query methods: "),a("code",[e._v("whereJsonEquals")]),e._v(", "),a("code",[e._v("whereJsonSupersetOf")]),e._v(", "),a("code",[e._v("whereJsonSubsetOf")]),e._v(" and friends.")]),e._v(" "),a("li",[a("code",[e._v("whereRef")]),e._v(" query method.")]),e._v(" "),a("li",[e._v("Expose "),a("code",[e._v("knex.raw()")]),e._v(" through "),a("code",[e._v("Model.raw()")]),e._v(".")]),e._v(" "),a("li",[e._v("Expose "),a("code",[e._v("knex.client.formatter()")]),e._v(" through "),a("code",[e._v("Model.formatter()")]),e._v(".")]),e._v(" "),a("li",[a("code",[e._v("QueryBuilder")]),e._v(" can be used to make sub queries just like knex's "),a("code",[e._v("QueryBuilder")]),e._v(".")]),e._v(" "),a("li",[e._v("Possibility to use a custom "),a("code",[e._v("QueryBuilder")]),e._v(" subclass by overriding "),a("code",[e._v("Model.QueryBuilder")]),e._v(".")]),e._v(" "),a("li",[e._v("Filter queries/objects for relations.")]),e._v(" "),a("li",[e._v("A pile of bug fixes.")])]),e._v(" "),a("h3",{attrs:{id:"breaking-changes-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-8","aria-hidden":"true"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),a("ul",[a("li",[e._v("Project was renamed to objection.js. Migrate simply by replacing "),a("code",[e._v("moron")]),e._v(" with "),a("code",[e._v("objection")]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"_0-1-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-0","aria-hidden":"true"}},[e._v("#")]),e._v(" 0.1.0")]),e._v(" "),a("p",[e._v("First release.")])])}),[],!1,null,null,null);t.default=n.exports}}]);