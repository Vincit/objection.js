(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{336:function(e,t,r){"use strict";r.r(t);var a=r(14),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"changelog"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changelog"}},[e._v("#")]),e._v(" Changelog")]),e._v(" "),t("h2",{attrs:{id:"_3-1-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1"}},[e._v("#")]),e._v(" 3.1.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Only add AJV formats if they weren't added in user-land already "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2482",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2482"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-0"}},[e._v("#")]),e._v(" 3.1.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-2"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Support "),t("code",[e._v("$beforeUpdate()")]),e._v(" mutations in "),t("code",[e._v("upsertGraph()")]),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2233",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2233"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Remove deprecated "),t("code",[e._v("$afterGet()")]),e._v(" hook "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2477",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2477"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Drop support for Node v12 "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2478",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2478"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-0-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-5"}},[e._v("#")]),e._v(" 3.0.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-3"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2183",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2183"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2257",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2257"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2276",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2276"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2453",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2453"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2476",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2476"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-0-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-4"}},[e._v("#")]),e._v(" 3.0.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-4"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2447",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2447"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-0-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-3"}},[e._v("#")]),e._v(" 3.0.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-5"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1673",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1673"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1957",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1957"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2105",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2105"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2132",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2132"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2251",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2251"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2262",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2262"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2271",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2271"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2277",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2277"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2308",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2308"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2311",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2311"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2311",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2311"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2311",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2311"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2332",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2332"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2337",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2337"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2372",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2372"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2379",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2379"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2383",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2383"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2399",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2399"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2404",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2404"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2405",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2405"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2408",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2408"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2409",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2409"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2423",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2423"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-0-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-2"}},[e._v("#")]),e._v(" 3.0.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-6"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1356",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1356"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1957",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1957"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2192",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2192"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2247",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2247"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2307",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2307"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2308",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2308"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2311",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2311"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2323",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2323"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2337",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2337"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2362",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2362"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-0-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-1"}},[e._v("#")]),e._v(" 3.0.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-7"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2123",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2123"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2150",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2150"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/pull/2179",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2179"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_3-0-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-0"}},[e._v("#")]),e._v(" 3.0.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-8"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1986",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1986"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1987",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1987"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1954",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1954"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1993",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1993"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1688",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1688"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1651",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1651"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2135",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2135"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1936",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1936"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1905",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1905"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1997",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1997"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/2024",target:"_blank",rel:"noopener noreferrer"}},[e._v("#2024"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("p",[e._v("See the "),t("RouterLink",{attrs:{to:"/release-notes/migration.html"}},[e._v("migration guide")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"_2-2-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-10"}},[e._v("#")]),e._v(" 2.2.10")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-9"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("modelClass")]),e._v(" property for "),t("code",[e._v("ValidationError")]),e._v(" and "),t("code",[e._v("NotFoundError")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_2-2-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-9"}},[e._v("#")]),e._v(" 2.2.9")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-10"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("noWait")]),e._v(" query builder method.")])]),e._v(" "),t("h2",{attrs:{id:"_2-2-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-8"}},[e._v("#")]),e._v(" 2.2.8")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-11"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1982",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1982"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1983",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1983"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-2-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-7"}},[e._v("#")]),e._v(" 2.2.7")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-12"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("QueryBuilder.castTo")]),e._v(" can now be used to cast query results to any typescript type.")])]),e._v(" "),t("h2",{attrs:{id:"_2-2-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-6"}},[e._v("#")]),e._v(" 2.2.6")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-13"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1964",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1964"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-2-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-5"}},[e._v("#")]),e._v(" 2.2.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-14"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-14"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1855",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1855"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-2-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4"}},[e._v("#")]),e._v(" 2.2.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-15"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-15"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add support for onConflict, merge and ignore knex methods.")])]),e._v(" "),t("h2",{attrs:{id:"_2-2-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2"}},[e._v("#")]),e._v(" 2.2.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-16"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-16"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1722",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1722"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-2-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1"}},[e._v("#")]),e._v(" 2.2.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-17"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-17"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1757",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1757"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1729",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1729"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-2-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-0"}},[e._v("#")]),e._v(" 2.2.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-18"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-18"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1770",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1770"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1699",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1699"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1703",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1703"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1675",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1675"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1708",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1708"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1743",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1743"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1731",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1731"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1761",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1761"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-1-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4"}},[e._v("#")]),e._v(" 2.1.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-19"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-19"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1750",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1750"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-1-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3"}},[e._v("#")]),e._v(" 2.1.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-20"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-20"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("underscoreBetweenUppercaseLetters")]),e._v(" option for snake case mappers. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1676",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1676"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-1-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2"}},[e._v("#")]),e._v(" 2.1.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-21"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-21"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fix "),t("code",[e._v("startTransaction")]),e._v(" typings.")])]),e._v(" "),t("h2",{attrs:{id:"_2-1-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1"}},[e._v("#")]),e._v(" 2.1.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-22"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-22"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1489",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1489"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-0"}},[e._v("#")]),e._v(" 2.1.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-23"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-23"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1638",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1638"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1636",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1636"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1615",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1615"),t("OutboundLink")],1)])]),e._v(" "),t("h1",{attrs:{id:"changelog-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changelog-2"}},[e._v("#")]),e._v(" Changelog")]),e._v(" "),t("h2",{attrs:{id:"_2-0-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-10"}},[e._v("#")]),e._v(" 2.0.10")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-24"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-24"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1630",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1630"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-0-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-9"}},[e._v("#")]),e._v(" 2.0.9")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-25"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-25"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1606",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1606"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-0-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-8"}},[e._v("#")]),e._v(" 2.0.8")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-26"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-26"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1627",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1627"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-0-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-7"}},[e._v("#")]),e._v(" 2.0.7")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-27"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-27"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1607",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1607"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-0-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-6"}},[e._v("#")]),e._v(" 2.0.6")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-28"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-28"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1603",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1603"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-0-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-5"}},[e._v("#")]),e._v(" 2.0.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-29"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-29"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("code",[e._v("upsertGraph")]),e._v(" bug where composite keys were not selected correctly. See the fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/commit/0e58cf010348efc33e5459c055eea141f62f7561",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_2-0-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-4"}},[e._v("#")]),e._v(" 2.0.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-30"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-30"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("New "),t("code",[e._v("skipFetched")]),e._v(" option for "),t("code",[e._v("fetchGraph")]),e._v(" and "),t("code",[e._v("$fetchGraph")])])]),e._v(" "),t("h2",{attrs:{id:"_2-0-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-3"}},[e._v("#")]),e._v(" 2.0.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-31"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-31"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1585",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1585"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1361",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1361"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1488",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1488"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2-0-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-0"}},[e._v("#")]),e._v(" 2.0.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-32"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-32"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Cleaner and more consistent API. A lot of methods have been renamed, removed combined and cleaned up. Most of the old methods still exist, but print a deprecation warning when first used. Some examples:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("eager")]),e._v(" -> "),t("code",[e._v("withGraphFetched")])]),e._v(" "),t("li",[t("code",[e._v("joinEager")]),e._v(" -> "),t("code",[e._v("withGraphJoined")])]),e._v(" "),t("li",[e._v("removed "),t("code",[e._v("eagerAlgorithm")]),e._v(" (you must explicitly use either "),t("code",[e._v("withGraphFetched")]),e._v(" or "),t("code",[e._v("withGraphJoined")]),e._v(")")]),e._v(" "),t("li",[e._v("merged "),t("code",[e._v("allowEager")]),e._v(", "),t("code",[e._v("allowInsert")]),e._v(" and "),t("code",[e._v("allowUpsert")]),e._v(" into one method "),t("code",[e._v("allowGraph")])]),e._v(" "),t("li",[t("code",[e._v("$loadRelated")]),e._v(" -> "),t("code",[e._v("$fetchGraph")])]),e._v(" "),t("li",[t("code",[e._v("joinRelation")]),e._v(" -> "),t("code",[e._v("joinRelated")])]),e._v(" "),t("li",[t("code",[e._v("$relatedQuery")]),e._v(" no longer mutates the receiving model instances")])])]),e._v(" "),t("li",[t("p",[e._v("New "),t("RouterLink",{attrs:{to:"/guide/hooks.html#static-query-hooks"}},[e._v("static hook API")]),e._v(". The old instance hooks are still around.")],1)]),e._v(" "),t("li",[t("p",[t("code",[e._v("relatedQuery")]),e._v(" can now be used for more than just subqueries. See the examples "),t("RouterLink",{attrs:{to:"/guide/query-examples.html#relation-queries"}},[e._v("here")]),e._v(".")],1)]),e._v(" "),t("li",[t("p",[e._v("modifiers can now take arguments and are a lot more useful. See "),t("a",{attrs:{href:"https://vincit.github.io/objection.js/recipes/modifiers.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("this recipe"),t("OutboundLink")],1),e._v(" for more info.")])]),e._v(" "),t("li",[t("p",[e._v("Objection now uses the "),t("a",{attrs:{href:"https://github.com/Vincit/db-errors",target:"_blank",rel:"noopener noreferrer"}},[e._v("db-errors"),t("OutboundLink")],1),e._v(" library by default to wrap the database errors.")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("insertMissing")]),e._v(" "),t("code",[e._v("upsertGraph")]),e._v(" option now works as expected with "),t("code",[e._v("relate: true")]),e._v(": items that are not found in the database are inserted.")])]),e._v(" "),t("li",[t("p",[e._v("Brand new typings written from scratch with many improvements and finally a support for "),t("RouterLink",{attrs:{to:"/recipes/custom-query-builder.html#custom-query-builder"}},[e._v("custom query builders")])],1)]),e._v(" "),t("li",[t("p",[e._v("A bunch of improvements and bug fixes for "),t("code",[e._v("upsertGraph")]),e._v(", including a huge speedup in some cases due to less data fetching.")])]),e._v(" "),t("li",[t("p",[e._v("A brand new "),t("RouterLink",{attrs:{to:"/api/objection/#fn"}},[e._v("fn")]),e._v(" helper for calling SQL functions.")],1)]),e._v(" "),t("li",[t("p",[e._v("Objection now uses native promises instead of bluebird.")])]),e._v(" "),t("li",[t("p",[e._v("Objection is now leaner as we dropped a bunch of dependencies like "),t("code",[e._v("bluebird")]),e._v(" and "),t("code",[e._v("lodash")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("In addition to all of this, a huge number of bugs has been squashed!")])])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-2"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("p",[e._v("See the "),t("RouterLink",{attrs:{to:"/release-notes/migration.html"}},[e._v("migration guide")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"_1-6-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-10"}},[e._v("#")]),e._v(" 1.6.10")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1455",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1455"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-6-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-9"}},[e._v("#")]),e._v(" 1.6.9")]),e._v(" "),t("ul",[t("li",[e._v("Revert fix for "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1089",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1089"),t("OutboundLink")],1),e._v(". It was causing more bugs than it fixed. #1089 will be addressed in 2.0.")]),e._v(" "),t("li",[e._v("Typings updates")])]),e._v(" "),t("h2",{attrs:{id:"_1-6-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-8"}},[e._v("#")]),e._v(" 1.6.8")]),e._v(" "),t("ul",[t("li",[e._v("Fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1287",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1287"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-6-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-7"}},[e._v("#")]),e._v(" 1.6.7")]),e._v(" "),t("ul",[t("li",[e._v("A bunch of regression bug fixes.")])]),e._v(" "),t("h2",{attrs:{id:"_1-6-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3"}},[e._v("#")]),e._v(" 1.6.3")]),e._v(" "),t("ul",[t("li",[e._v("Fixes: "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1227",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1227"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-6-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2"}},[e._v("#")]),e._v(" 1.6.2")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("as")]),e._v(" method for "),t("code",[e._v("raw")]),e._v(" making it possible to use "),t("code",[e._v("raw")]),e._v(" expressions in "),t("code",[e._v("joinEager")]),e._v(" modifiers (as long as you give names to your raw expressions using "),t("code",[e._v("as")]),e._v(").")])]),e._v(" "),t("h2",{attrs:{id:"_1-6-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-1"}},[e._v("#")]),e._v(" 1.6.1")]),e._v(" "),t("ul",[t("li",[e._v("Fix some very rare upsertGraph edge cases.")])]),e._v(" "),t("h2",{attrs:{id:"_1-6-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-0"}},[e._v("#")]),e._v(" 1.6.0")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Add "),t("code",[e._v("Model.traverseAsync")]),e._v(" and "),t("code",[e._v("modelInstance.$traverseAsync")]),e._v(" methods.")])]),e._v(" "),t("li",[t("p",[e._v("Fixes: "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/842",target:"_blank",rel:"noopener noreferrer"}},[e._v("#842"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1205",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1205"),t("OutboundLink")],1),e._v('. This bug is about subqueries "inheriting" parent query table name and alias. This bug has been around a long time and there is a small chance that people have started accidentally or on purpose use it as a feature. If you get weird reference errors from subqueries (relation not found, table not found etc.) you may need to explicitly give an alias or use '),t("code",[e._v("from")]),e._v(" in your subqueries after this update. This is a borderline breaking change, but since 2.0 is still pretty far away, I wanted to get this out faster. If I'm wrong and people are heavily depending on this bug, I'll revert the change.")])]),e._v(" "),t("li",[t("p",[e._v("Fixes: "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1215",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1215"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("Fixes: "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1206",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1206"),t("OutboundLink")],1)])])]),e._v(" "),t("h2",{attrs:{id:"_1-5-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3"}},[e._v("#")]),e._v(" 1.5.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-33"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-33"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixes "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1204",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1204"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-5-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1"}},[e._v("#")]),e._v(" 1.5.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-34"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-34"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Relations are now loaded lazily "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1202",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1202"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("relationMappings.modelClass")]),e._v(" can now be a function that returns a model class.")])]),e._v(" "),t("h2",{attrs:{id:"_1-5-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-0"}},[e._v("#")]),e._v(" 1.5.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-35"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-35"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1131",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1131"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1114",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1114"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1185",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1185"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1109",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1109"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1110",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1110"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("add eagerObject and eagerModifiers accessors to QueryBuilder.")]),e._v(" "),t("li",[e._v("complete rewrite of "),t("code",[e._v("insertGraph")]),e._v(" and "),t("code",[e._v("upsertGraph")]),e._v(" code. The rewrite brought a bunch of small performance optimizations and makes future development easier. No breaking changes.")]),e._v(" "),t("li",[e._v("Chaining "),t("code",[e._v("returning('*')")]),e._v(" to "),t("code",[e._v("insertGraph")]),e._v(" or "),t("code",[e._v("upsertGraph")]),e._v(" now propagates the call to all insert, update and delete operations.")]),e._v(" "),t("li",[e._v("Code using objectio can now be transpilsed to ES5. No need to add babel workarounds anymore.")])]),e._v(" "),t("h2",{attrs:{id:"_1-4-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-0"}},[e._v("#")]),e._v(" 1.4.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-36"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-36"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("modifierNotFound")]),e._v(" hook "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1120",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1120"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1121",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1121"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1126",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1126"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-3-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-0"}},[e._v("#")]),e._v(" 1.3.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-37"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-37"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Use "),t("code",[e._v("objection.raw")]),e._v(" instead of "),t("code",[e._v("knex.raw")]),e._v(" in "),t("code",[e._v("Model.raw")]),e._v(". "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1077",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1077"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Allow modifiers (namedFilters) to be used in "),t("code",[e._v("modifyEager")]),e._v(" too.")]),e._v(" "),t("li",[e._v("Add "),t("code",[e._v("underscoreBeforeDigits")]),e._v(" option for snake case converters. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1025",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1025"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1074",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1074"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Typing fixes")])]),e._v(" "),t("h2",{attrs:{id:"_1-2-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3"}},[e._v("#")]),e._v(" 1.2.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-38"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-38"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1007",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1007"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1008",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1008"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1047",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1047"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-2-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2"}},[e._v("#")]),e._v(" 1.2.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-39"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-39"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Improve reference cycle detection in "),t("code",[e._v("upsertGraph")])])]),e._v(" "),t("h2",{attrs:{id:"_1-2-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1"}},[e._v("#")]),e._v(" 1.2.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-40"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-40"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/1009",target:"_blank",rel:"noopener noreferrer"}},[e._v("#1009"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-2-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-0"}},[e._v("#")]),e._v(" 1.2.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-41"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-41"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/919",target:"_blank",rel:"noopener noreferrer"}},[e._v("#919"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/964",target:"_blank",rel:"noopener noreferrer"}},[e._v("#964"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Add "),t("code",[e._v("aliasFor")]),e._v(" method to public API")]),e._v(" "),t("li",[e._v("Prevent bluebird warnings")]),e._v(" "),t("li",[e._v("UPPER_SNAKE_CASE support for "),t("code",[e._v("snakeCaseMappers")]),e._v(" and "),t("code",[e._v("knexSnakeCaseMappers")])])]),e._v(" "),t("h2",{attrs:{id:"_1-1-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-10"}},[e._v("#")]),e._v(" 1.1.10")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-42"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-42"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Nothing! the npm release was somehow borked. This was just a rerelease of 1.1.9.")])]),e._v(" "),t("h2",{attrs:{id:"_1-1-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-9"}},[e._v("#")]),e._v(" 1.1.9")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-43"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-43"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/782",target:"_blank",rel:"noopener noreferrer"}},[e._v("#782"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-8"}},[e._v("#")]),e._v(" 1.1.8")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-44"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-44"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/909",target:"_blank",rel:"noopener noreferrer"}},[e._v("#909"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-7"}},[e._v("#")]),e._v(" 1.1.7")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-45"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-45"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/884",target:"_blank",rel:"noopener noreferrer"}},[e._v("#884"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-6"}},[e._v("#")]),e._v(" 1.1.6")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-46"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-46"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add typings for fetchTableMetadata, tableMetadata and onbuildknex")])]),e._v(" "),t("h2",{attrs:{id:"_1-1-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-5"}},[e._v("#")]),e._v(" 1.1.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-47"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-47"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Make "),t("a",{attrs:{href:"#fetchtablemetadata"}},[e._v("Model.fetchTableMetadata")]),e._v(" and "),t("a",{attrs:{href:"#tablemetadata"}},[e._v("Model.tableMetadata")]),e._v(" methods public. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/871",target:"_blank",rel:"noopener noreferrer"}},[e._v("#871"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Add "),t("a",{attrs:{href:"#onbuildknex"}},[e._v("onBuildKnex")]),e._v(" query builder hook. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/807",target:"_blank",rel:"noopener noreferrer"}},[e._v("#807"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4"}},[e._v("#")]),e._v(" 1.1.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-48"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-48"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix subquery bug causing incompatibility with knex 0.14.5 and sqlite3")])]),e._v(" "),t("h2",{attrs:{id:"_1-1-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3"}},[e._v("#")]),e._v(" 1.1.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-49"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-49"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix regression in 1.1.2 (sorry about this) "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/869",target:"_blank",rel:"noopener noreferrer"}},[e._v("#869"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2"}},[e._v("#")]),e._v(" 1.1.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-50"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-50"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("virtuals")]),e._v(" option for "),t("code",[e._v("toJSON")]),e._v(" and "),t("code",[e._v("$toJson")]),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/866",target:"_blank",rel:"noopener noreferrer"}},[e._v("#866"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/868",target:"_blank",rel:"noopener noreferrer"}},[e._v("#868"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1"}},[e._v("#")]),e._v(" 1.1.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-51"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-51"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/865",target:"_blank",rel:"noopener noreferrer"}},[e._v("#865"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix bug where the static "),t("code",[e._v("Model.relatedQuery")]),e._v(" didn't use the relation name as an alias for the table. This may break\ncode if you have explicitly referenced the subquery table. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/859",target:"_blank",rel:"noopener noreferrer"}},[e._v("#859"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-0"}},[e._v("#")]),e._v(" 1.1.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-52"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-52"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Optional "),t("a",{attrs:{href:"#relationexpression-object-notation"}},[e._v("object notation")]),e._v(" for relation expressions.")]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/855",target:"_blank",rel:"noopener noreferrer"}},[e._v("#855"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/858",target:"_blank",rel:"noopener noreferrer"}},[e._v("#858"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-0-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-1"}},[e._v("#")]),e._v(" 1.0.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-53"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-53"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Added public "),t("a",{attrs:{href:"#relation"}},[e._v("Relation.joinModelClass")]),e._v(" accessor")]),e._v(" "),t("li",[e._v("Don't call "),t("code",[e._v("returning")]),e._v(" on sqlite (prevents a warning message added in knex 0.14.4)")]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/844",target:"_blank",rel:"noopener noreferrer"}},[e._v("#844"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Small documentation updates")]),e._v(" "),t("li",[e._v("Small typing fixes end updates")])]),e._v(" "),t("h2",{attrs:{id:"_1-0-0-"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-"}},[e._v("#")]),e._v(" 1.0.0 ")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-54"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-54"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("The static "),t("a",{attrs:{href:"#relatedquery"}},[t("code",[e._v("relatedQuery")])]),e._v(" method.")]),e._v(" "),t("li",[e._v("New reflection methods:\n"),t("a",{attrs:{href:"#isfind"}},[t("code",[e._v("isFind")])]),e._v(",\n"),t("a",{attrs:{href:"#isinsert"}},[t("code",[e._v("isInsert")])]),e._v(",\n"),t("a",{attrs:{href:"#isupdate"}},[t("code",[e._v("isUpdate")])]),e._v(",\n"),t("a",{attrs:{href:"#isdelete"}},[t("code",[e._v("isDelete")])]),e._v(",\n"),t("a",{attrs:{href:"#isrelate"}},[t("code",[e._v("isRelate")])]),e._v(",\n"),t("a",{attrs:{href:"#isunrelate"}},[t("code",[e._v("isUnrelate")])]),e._v(",\n"),t("a",{attrs:{href:"#haswheres"}},[t("code",[e._v("hasWheres")])]),e._v(",\n"),t("a",{attrs:{href:"#hasselects"}},[t("code",[e._v("hasSelects")])]),e._v(",\n"),t("a",{attrs:{href:"#haseager"}},[t("code",[e._v("hasEager")])]),e._v(",\n"),t("a",{attrs:{href:"#has"}},[t("code",[e._v("has")])]),e._v(".\n"),t("a",{attrs:{href:"#clear"}},[t("code",[e._v("clear")])]),e._v(".\n"),t("a",{attrs:{href:"#columnnametopropertyname"}},[t("code",[e._v("columnNameToPropertyName")])]),e._v(",\n"),t("a",{attrs:{href:"#propertynametocolumnname"}},[t("code",[e._v("propertyNameToColumnName")])]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("ManyToMany")]),e._v(" extras now work consistently in queries and filters. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/760",target:"_blank",rel:"noopener noreferrer"}},[e._v("#760"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-3"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("ul",[t("li",[t("p",[t("code",[e._v("modelInstance.$query().delete().returning(something)")]),e._v(" now returns a single instance instead of an array. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/659",target:"_blank",rel:"noopener noreferrer"}},[e._v("#659"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("Node 6.0.0 is now the minimum. Objection will not work on node < 6.0.0.")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#validationerror"}},[t("code",[e._v("ValidationError")])]),e._v(" overhaul. This is a big one, so read this carefully! There are three things to check when you migrate to 1.0:")]),e._v(" "),t("ol",[t("li",[e._v("The "),t("a",{attrs:{href:"#createvalidationerror"}},[t("code",[e._v("createValidationError")])]),e._v(" and "),t("a",{attrs:{href:"#validationerror"}},[t("code",[e._v("ValidationError")])]),e._v(" interfaces have changed.\nIf you have overridden the "),t("code",[e._v("createValidationError")]),e._v(" method in your project, or you create custom "),t("code",[e._v("ValidationError")]),e._v(" instances\nyou need migrate to the interfaces.")]),e._v(" "),t("li",[e._v("The model validation errors (jsonSchema violations) have remained pretty much the same but there are couple of differences. Before, the\nkeys of "),t("code",[e._v("error.data")]),e._v(" were property names even when a nested object in a graph failed a validation. Now the keys for nested\nvalidation errors are key paths like "),t("code",[e._v("foo.bar[2].spam")]),e._v(". Another tiny difference is the order of validation errors for each key in\n"),t("code",[e._v("error.data")]),e._v(". Let's say a property "),t("code",[e._v("spam")]),e._v(" failed for your model and "),t("code",[e._v("error.data.spam")]),e._v(" contains an array of objects that describe\nthe failures. Before, the first failed validation was the last item in the array, now it is the first item.")]),e._v(" "),t("li",[e._v("All "),t("a",{attrs:{href:"#validationerror"}},[t("code",[e._v("ValidationErrors")])]),e._v(" now have a "),t("code",[e._v("type")]),e._v(" field. Before all "),t("a",{attrs:{href:"#validationerror"}},[t("code",[e._v("ValidationErrors")])]),e._v(' but the model\nvalidation errors (errors like "invalid relation expression", or "cyclic model graph") had no type, and could only be identified\nbased on the existence of some weird key in '),t("code",[e._v("error.data")]),e._v(". The "),t("code",[e._v("error.data")]),e._v(" is now removed from those errors and the "),t("code",[e._v("type")]),e._v(" should be\nused instead. The message from the data is now stored in "),t("code",[e._v("error.message")]),e._v(".")])])]),e._v(" "),t("li",[t("p",[e._v("Removed deprecated methods "),t("code",[e._v("whereRef")]),e._v(", "),t("code",[e._v("whereJsonField")]),e._v(" and "),t("code",[e._v("whereJsonEquals")]),e._v(". The "),t("a",{attrs:{href:"#ref"}},[t("code",[e._v("ref")])]),e._v(" helper can be used to replace the\n"),t("code",[e._v("whereRef")]),e._v(" calls. "),t("a",{attrs:{href:"#ref"}},[t("code",[e._v("ref")])]),e._v(" and "),t("a",{attrs:{href:"#lit"}},[t("code",[e._v("lit")])]),e._v(" can be used to replace the removed json methods.")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("ManyToMany")]),e._v(" extras now work consistently in queries and filters. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/760",target:"_blank",rel:"noopener noreferrer"}},[e._v("#760"),t("OutboundLink")],1),e._v('. This is not\na breaking change per se, but can cause some queries to fail with a "ambiguous identifier" error because the join table is now joined\nin places where it previously wasn\'t. You need to explicitly specify the table for those failing columns using '),t("code",[e._v("Table.theColumn")]),e._v(" syntax.")])])]),e._v(" "),t("h3",{attrs:{id:"changes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changes"}},[e._v("#")]),e._v(" Changes")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("isFindQuery")]),e._v(" is renamed to "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#isfind",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("isFind")]),t("OutboundLink")],1),e._v(" and deprecated.")])]),e._v(" "),t("h2",{attrs:{id:"_0-9-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-4"}},[e._v("#")]),e._v(" 0.9.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-55"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-55"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fixed "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/627",target:"_blank",rel:"noopener noreferrer"}},[e._v("#627"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixed "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/671",target:"_blank",rel:"noopener noreferrer"}},[e._v("#671"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixed "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/672",target:"_blank",rel:"noopener noreferrer"}},[e._v("#672"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixed "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/674",target:"_blank",rel:"noopener noreferrer"}},[e._v("#674"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-9-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-3"}},[e._v("#")]),e._v(" 0.9.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-56"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-56"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add beforeInsert hook for relations. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/649",target:"_blank",rel:"noopener noreferrer"}},[e._v("#649"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/19",target:"_blank",rel:"noopener noreferrer"}},[e._v("#19"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Add "),t("a",{attrs:{href:"#relatedfindquerymutates"}},[t("code",[e._v("relatedFindQueryMutates")])]),e._v(" and "),t("a",{attrs:{href:"#relatedinsertquerymutates"}},[t("code",[e._v("relatedInsertQueryMutates")])]),e._v(" configs as well as "),t("a",{attrs:{href:"#_s_setrelated"}},[t("code",[e._v("$setRelated")])]),e._v(" and "),t("a",{attrs:{href:"#_s_appendrelated"}},[t("code",[e._v("$appendRelated")])]),e._v(" helpers. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/599",target:"_blank",rel:"noopener noreferrer"}},[e._v("#599"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixed "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/648",target:"_blank",rel:"noopener noreferrer"}},[e._v("#648"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-9-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-2"}},[e._v("#")]),e._v(" 0.9.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-57"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-57"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Fix regression: "),t("code",[e._v("from")]),e._v(" fails with a subquery.")])]),e._v(" "),t("h2",{attrs:{id:"_0-9-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-1"}},[e._v("#")]),e._v(" 0.9.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-58"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-58"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#castto",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("castTo")]),t("OutboundLink")],1),e._v(" method for setting the model class of query result rows.")]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#onerror",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("onError")]),t("OutboundLink")],1),e._v(" "),t("code",[e._v("QueryBuilder")]),e._v(" method.")]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#objection-knexsnakecasemappers",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("knexSnakeCaseMappers")]),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#objection-snakecasemappers",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("snakeCaseMappers")]),t("OutboundLink")],1),e._v(" for snake_case to camelCase conversions.")])]),e._v(" "),t("h2",{attrs:{id:"_0-9-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-9-0"}},[e._v("#")]),e._v(" 0.9.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-59"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-59"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Relations can now be defined using keys inside JSON columns. See the examples "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#relationmappings",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#lit",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("lit")]),t("OutboundLink")],1),e._v(" helper function "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/275",target:"_blank",rel:"noopener noreferrer"}},[e._v("#275"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixes for "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#upsertgraph",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("upsertGraph")]),t("OutboundLink")],1),e._v(" when using composite keys. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/517",target:"_blank",rel:"noopener noreferrer"}},[e._v("#517"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Added "),t("code",[e._v("noDelete")]),e._v(", "),t("code",[e._v("noUpdate")]),e._v(", "),t("code",[e._v("noInsert")]),e._v(", "),t("code",[e._v("noRelate")]),e._v(" and "),t("code",[e._v("noUnrelate")]),e._v(" options for "),t("code",[e._v("upsertGraph")]),e._v(". See "),t("a",{attrs:{href:"#upsertgraphoptions"}},[e._v("UpsertGraphOptions docs")]),e._v(" for more info.")]),e._v(" "),t("li",[t("code",[e._v("insertGraph")]),e._v(" now accepts an options object just like "),t("code",[e._v("upsertGraph")]),e._v(". "),t("code",[e._v("relate")]),e._v(" option can be used instead of "),t("code",[e._v("#dbRef")]),e._v(". "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/586",target:"_blank",rel:"noopener noreferrer"}},[e._v("#586"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-4"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Instance update/patch with "),t("code",[e._v("returning")]),e._v(" now return a single object instead of an array. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/423",target:"_blank",rel:"noopener noreferrer"}},[e._v("#423"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("Because of the support for JSON relations "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#relation",target:"_blank",rel:"noopener noreferrer"}},[e._v("the "),t("code",[e._v("Relation")]),e._v(" class"),t("OutboundLink")],1),e._v("\nhas changed a bit.")])])]),e._v(" "),t("h2",{attrs:{id:"_0-8-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-8"}},[e._v("#")]),e._v(" 0.8.8")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-60"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-60"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Typing updates: "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/489",target:"_blank",rel:"noopener noreferrer"}},[e._v("#489"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/487",target:"_blank",rel:"noopener noreferrer"}},[e._v("#487"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Improve "),t("code",[e._v("resultSize")]),e._v(" method. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/213",target:"_blank",rel:"noopener noreferrer"}},[e._v("#213"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Avoid unnecessary updates in upsertGraph "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/480",target:"_blank",rel:"noopener noreferrer"}},[e._v("#480"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-7"}},[e._v("#")]),e._v(" 0.8.7")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-61"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-61"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("throwIfNotFound")]),e._v(" now also throws when update or delete doesn't change any rows.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#mixin"}},[t("code",[e._v("mixin")])]),e._v(" and "),t("a",{attrs:{href:"#compose"}},[t("code",[e._v("compose")])]),e._v(" helpers for applying multiple plugins. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/475",target:"_blank",rel:"noopener noreferrer"}},[e._v("#475"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/473",target:"_blank",rel:"noopener noreferrer"}},[e._v("#473"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Typing updates "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/474",target:"_blank",rel:"noopener noreferrer"}},[e._v("#474"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/479",target:"_blank",rel:"noopener noreferrer"}},[e._v("#479"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("upsertGraph")]),e._v(" now validates patched models correctly. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/477",target:"_blank",rel:"noopener noreferrer"}},[e._v("#477"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-6"}},[e._v("#")]),e._v(" 0.8.6")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-62"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-62"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Finally: the first version of "),t("a",{attrs:{href:"#graph-upserts"}},[t("code",[e._v("upsertGraph")])]),e._v(" method! Please open issues about bugs, WTFs and missing features.")]),e._v(" "),t("li",[e._v("Strip readonly virtual properties in fromJson & friends "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/432",target:"_blank",rel:"noopener noreferrer"}},[e._v("#432"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fixed "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/439",target:"_blank",rel:"noopener noreferrer"}},[e._v("#439"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-5"}},[e._v("#")]),e._v(" 0.8.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-63"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-63"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#uselimitinfirst",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Model.useLimitInFirst")]),t("OutboundLink")],1),e._v(" configuration flag.")])]),e._v(" "),t("h2",{attrs:{id:"_0-8-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-4"}},[e._v("#")]),e._v(" 0.8.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-64"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-64"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("New shorthand methods "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#joineager",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("joinEager")]),t("OutboundLink")],1),e._v(", "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#naiveeager",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("naiveEager")]),t("OutboundLink")],1),e._v(",\n"),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#mergejoineager",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("mergeJoinEager")]),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#mergenaiveeager",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("mergeNaiveEager")]),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("New shorthand method "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#findone",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("findOne")]),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("New reflection method "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#isfind",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("isFindQuery")]),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("ManyToMany extra properties can now be updated "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/413",target:"_blank",rel:"noopener noreferrer"}},[e._v("#413"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-3"}},[e._v("#")]),e._v(" 0.8.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-65"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-65"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#eager",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("NaiveEagerAlogrithm")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#relationexpression",target:"_blank",rel:"noopener noreferrer"}},[e._v("Aliases in relation expressions"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/402",target:"_blank",rel:"noopener noreferrer"}},[e._v("#402"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("New lazily evaluated "),t("code",[e._v("raw")]),e._v(" function. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/275",target:"_blank",rel:"noopener noreferrer"}},[e._v("#275"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-2"}},[e._v("#")]),e._v(" 0.8.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-66"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-66"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#namedfilters",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Model.namedFilters")]),t("OutboundLink")],1),e._v(" object for defining shared filters that can be used by name in eager expressions.")]),e._v(" "),t("li",[e._v("Full support for views and table aliases in eager, join, joinRelation etc. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/181",target:"_blank",rel:"noopener noreferrer"}},[e._v("#181"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fix "),t("code",[e._v("bindTransaction")]),e._v(" bug with "),t("code",[e._v("ManyToManyRelation")]),e._v(" junction tables "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/395",target:"_blank",rel:"noopener noreferrer"}},[e._v("#395"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-1"}},[e._v("#")]),e._v(" 0.8.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-67"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-67"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#throwifnotfound",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("throwIfNotFound")]),t("OutboundLink")],1),e._v(" method for making empty query results throw an exception.")]),e._v(" "),t("li",[e._v("fix error when passing model instance to a "),t("code",[e._v("where")]),e._v(" method. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/387",target:"_blank",rel:"noopener noreferrer"}},[e._v("#387"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-8-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-8-0"}},[e._v("#")]),e._v(" 0.8.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-68"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-68"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("All query methods now call "),t("code",[e._v("Model.query")]),e._v(" to create a "),t("code",[e._v("QueryBuilder")]),e._v(" instance "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/346",target:"_blank",rel:"noopener noreferrer"}},[e._v("#346"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Objection is no longer transpiled. One of the implications is that you can use a github\nlink in package.json to test experimental versions.")]),e._v(" "),t("li",[t("code",[e._v("count")]),e._v(" can now be called without arguments "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/364",target:"_blank",rel:"noopener noreferrer"}},[e._v("#364"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("A new "),t("a",{attrs:{href:"#getrelations"}},[t("code",[e._v("getRelations")])]),e._v(" method for plugin development and other reflection greatness.")])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-5"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("blockquote",[t("p",[e._v("Old model definition")])]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("Person")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("Model")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apply")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" arguments"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\nModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("extend")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\nPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("tableName "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Person'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Person")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("prototype"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("fullName")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("firstName "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("' '")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("lastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// More static and prototype methods.")]),e._v("\n")])])]),t("blockquote",[t("p",[e._v("Easiest way to migrate to "),t("code",[e._v("class")]),e._v(" and "),t("code",[e._v("extends")]),e._v(" keywords")])]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Person")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Model")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\nPerson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("tableName "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Person'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Person")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("prototype"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("fullName")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("firstName "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("' '")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("lastName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// More static and prototype methods.")]),e._v("\n")])])]),t("ul",[t("li",[t("p",[e._v("Support for node versions below 4.0.0 has been removed. With it the support for legacy class inheritance using "),t("code",[e._v("Model.extend")]),e._v(" method\nhas also been removed. This means that you need to change your model definitions to use the "),t("code",[e._v("class")]),e._v(" and "),t("code",[e._v("extends")]),e._v(" keywords.\nTo achieve this with the minimum amount of changes you can simply swap the constructor function and "),t("code",[e._v("Model.extend")]),e._v(" to\na class definition. You can still define all static and prototype methods and properties the old way. See the example on the right --\x3e")]),e._v(" "),t("p",[e._v("Note that this also affects Babel transpilation. You cannot (or need to) use "),t("code",[e._v("babel-plugin-transform-es2015-classes")]),e._v(" anymore.\nSee the "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/tree/main/examples/express-es7",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESNext example project"),t("OutboundLink")],1),e._v(" as an example of\nhow to setup babel.")])]),e._v(" "),t("li",[t("p",[e._v("The default value of "),t("a",{attrs:{href:"#pickjsonschemaproperties"}},[t("code",[e._v("pickJsonSchemaProperties")])]),e._v(" was changed to "),t("code",[e._v("false")]),e._v(". Before, all properties that\nwere not listed in "),t("code",[e._v("jsonSchema")]),e._v(" were removed before "),t("code",[e._v("insert")]),e._v(", "),t("code",[e._v("patch")]),e._v(" or "),t("code",[e._v("update")]),e._v(" (if "),t("code",[e._v("jsonSchma")]),e._v(" was defined). Starting from\nthis version you need to explicitly set the value to "),t("code",[e._v("true")]),e._v(". You may have been used this feature by accident.\nIf you have weird problems after the update, try setting "),t("code",[e._v("objection.Model.pickJsonSchemaProperties = true;")]),e._v(" to see\nif it helps.")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#pickjsonschemaproperties"}},[t("code",[e._v("relate")])]),e._v(" and "),t("a",{attrs:{href:"#pickjsonschemaproperties"}},[t("code",[e._v("unrelate")])]),e._v(" methods now return the result of the\nunderlying query ("),t("code",[e._v("patch")]),e._v(" in case of "),t("code",[e._v("HasManyRelation")]),e._v(", "),t("code",[e._v("HasOneRelation")]),e._v(", and "),t("code",[e._v("BelongsToOneRelation")]),e._v(". "),t("code",[e._v("insert")]),e._v(" otherwise).\nBefore the method input was always returned.")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("Model.RelatedQueryBuilder")]),e._v(" is removed. "),t("code",[e._v("Model.QueryBuilder")]),e._v(" is now used to create all query builders for the model.\nThis only affects you if you have defined custom query builders.")])])]),e._v(" "),t("h2",{attrs:{id:"_0-7-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-12"}},[e._v("#")]),e._v(" 0.7.12")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-69"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-69"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/345",target:"_blank",rel:"noopener noreferrer"}},[e._v("#345"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-7-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-11"}},[e._v("#")]),e._v(" 0.7.11")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-70"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-70"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/339",target:"_blank",rel:"noopener noreferrer"}},[e._v("#339"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/341",target:"_blank",rel:"noopener noreferrer"}},[e._v("#341"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-7-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-10"}},[e._v("#")]),e._v(" 0.7.10")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-71"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-71"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix bugs that prevented using "),t("code",[e._v("$relatedQuery")]),e._v(" and "),t("code",[e._v("eager")]),e._v(" together with "),t("code",[e._v("JoinEagerAlgorithm")])]),e._v(" "),t("li",[e._v("typing updates")])]),e._v(" "),t("h2",{attrs:{id:"_0-7-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-9"}},[e._v("#")]),e._v(" 0.7.9")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-72"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-72"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#joinrelation",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("joinRelation")]),t("OutboundLink")],1),e._v(" now accepts "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#relationexpression",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("RelationExpressions")]),t("OutboundLink")],1),e._v(" and can join multiple and nested relations.")])]),e._v(" "),t("h2",{attrs:{id:"_0-7-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-6"}},[e._v("#")]),e._v(" 0.7.6")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-73"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-73"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("range")]),e._v(" and "),t("code",[e._v("page")]),e._v(" methods now use a window function and only generate one query on postgresql "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/62",target:"_blank",rel:"noopener noreferrer"}},[e._v("#62"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix MSSQL 2100 parameter limit in eager queries "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/311",target:"_blank",rel:"noopener noreferrer"}},[e._v("#311"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-7-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-5"}},[e._v("#")]),e._v(" 0.7.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-74"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-74"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/327",target:"_blank",rel:"noopener noreferrer"}},[e._v("#327"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/256",target:"_blank",rel:"noopener noreferrer"}},[e._v("#256"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-7-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-4"}},[e._v("#")]),e._v(" 0.7.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-75"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-75"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("automatically select columns needed for relations "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/309",target:"_blank",rel:"noopener noreferrer"}},[e._v("#309"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix an issue where "),t("code",[e._v("$formatJson")]),e._v(" was called inside "),t("code",[e._v("insertGraph")]),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/326",target:"_blank",rel:"noopener noreferrer"}},[e._v("#326"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-7-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-3"}},[e._v("#")]),e._v(" 0.7.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-76"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-76"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/325",target:"_blank",rel:"noopener noreferrer"}},[e._v("#325"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix an issue where "),t("code",[e._v("select")]),e._v(" had to be used in addition to "),t("code",[e._v("distinct")]),e._v(" in some cases")])]),e._v(" "),t("h2",{attrs:{id:"_0-7-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-2"}},[e._v("#")]),e._v(" 0.7.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-77"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-77"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("HasOneThroughRelation")]),e._v(" relation type.")])]),e._v(" "),t("h2",{attrs:{id:"_0-7-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-1"}},[e._v("#")]),e._v(" 0.7.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-78"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-78"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix "),t("code",[e._v("JoinEagerAlgorithm")]),e._v(" NPE bug")])]),e._v(" "),t("h2",{attrs:{id:"_0-7-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-7-0"}},[e._v("#")]),e._v(" 0.7.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-79"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-79"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("jsonSchema")]),e._v(" without "),t("code",[e._v("properties")]),e._v(" now works. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/205",target:"_blank",rel:"noopener noreferrer"}},[e._v("#205"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("relationMappings")]),e._v(" can now be a function. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/227",target:"_blank",rel:"noopener noreferrer"}},[e._v("#227"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("many to many extras can now be aliased. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/223",target:"_blank",rel:"noopener noreferrer"}},[e._v("#223"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("zero values are now allowed in relation columns. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/228",target:"_blank",rel:"noopener noreferrer"}},[e._v("#228"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("active transaction can now be accessed in "),t("code",[e._v("$before/$after")]),e._v(" hooks through "),t("code",[e._v("queryContext.transaction")]),e._v(" property.")]),e._v(" "),t("li",[e._v("Validation can now be easily modified through a new "),t("a",{attrs:{href:"#validator"}},[t("code",[e._v("Validator")])]),e._v(" interface. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/241",target:"_blank",rel:"noopener noreferrer"}},[e._v("#241"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/199",target:"_blank",rel:"noopener noreferrer"}},[e._v("#199"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("fix a "),t("code",[e._v("JoinEager")]),e._v(" problem where an empty result for a relation caused the following relations to be empty. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/292",target:"_blank",rel:"noopener noreferrer"}},[e._v("#292"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("ref(fieldExpression)")]),e._v(" syntax to reduce need for knex.raw and updating single attribute inside JSON column. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/270",target:"_blank",rel:"noopener noreferrer"}},[e._v("#270"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/#mergeeager",target:"_blank",rel:"noopener noreferrer"}},[e._v("mergeEager"),t("OutboundLink")],1),e._v(" method.")])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-6"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("$relatedQuery")]),e._v(" now returns a single model instead of an array for belongsToOne and hasOne relations. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/155",target:"_blank",rel:"noopener noreferrer"}},[e._v("#155"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("identifier of a model can now be updated. Be careful with this one! Before if you forgot a wrong id in an "),t("code",[e._v("update")]),e._v("/"),t("code",[e._v("patch")]),e._v(" operation, it would simply get ignored. Now the id is also updated just like any other column "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/100",target:"_blank",rel:"noopener noreferrer"}},[e._v("#100"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("Table.*")]),e._v(" is now selected by default in all queries instead of "),t("code",[e._v("*")]),e._v(". This will break some join queries that don't have an explicit select clause. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/161",target:"_blank",rel:"noopener noreferrer"}},[e._v("#161"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("ValidationError.data")]),e._v(" is now an object including, for each key, a list of errors with context info. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/283",target:"_blank",rel:"noopener noreferrer"}},[e._v("#283"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-6-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-2"}},[e._v("#")]),e._v(" 0.6.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-80"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-80"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("relationMappings")]),e._v(" can now be a function "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/227",target:"_blank",rel:"noopener noreferrer"}},[e._v("#227"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-6-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-1"}},[e._v("#")]),e._v(" 0.6.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-81"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-81"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix bug "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/205",target:"_blank",rel:"noopener noreferrer"}},[e._v("#205"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_0-6-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-0"}},[e._v("#")]),e._v(" 0.6.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-82"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-82"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Eager loading can now be done using joins and zero extra queries. See "),t("a",{attrs:{href:"#eageralgorithm"}},[t("code",[e._v("eagerAlgorithm")])]),e._v(", "),t("a",{attrs:{href:"#defaulteageralgorithm"}},[t("code",[e._v("defaultEagerAlgorithm")])]),e._v(" and "),t("a",{attrs:{href:"#eager"}},[t("code",[e._v("eager")])]),e._v(" for more info.")]),e._v(" "),t("li",[t("code",[e._v("#ref")]),e._v(" in graph inserts can now contain extra properties for many-to-many relations "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/156",target:"_blank",rel:"noopener noreferrer"}},[e._v("#156"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("#dbRef")]),e._v(" can now be used to refer to existing rows from a "),t("code",[e._v("insertWithRelated")]),e._v(" graph.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#modelpaths"}},[t("code",[e._v("modelPaths")])]),e._v(" attribute for cleaner way to point to models in relationMappings.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#pickjsonschemaproperties"}},[t("code",[e._v("pickJsonSchemaProperties")])]),e._v(" config parameter "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/110",target:"_blank",rel:"noopener noreferrer"}},[e._v("#110"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"#insertgraphandfetch"}},[t("code",[e._v("insertGraphAndFetch")])]),e._v(" with "),t("code",[e._v("insertWithRelatedAndFetch")]),e._v(" alias. "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/172",target:"_blank",rel:"noopener noreferrer"}},[e._v("#172"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Added "),t("a",{attrs:{href:"#_s_beforedelete"}},[t("code",[e._v("$beforeDelete")])]),e._v(" and "),t("a",{attrs:{href:"#_s_afterdelete"}},[t("code",[e._v("$afterDelete")])]),e._v(" hooks "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/112",target:"_blank",rel:"noopener noreferrer"}},[e._v("#112"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Old values can now be accessed from "),t("code",[e._v("$beforeUpdate")]),e._v(", "),t("code",[e._v("$afterUpdate")]),e._v(", "),t("code",[e._v("$beforeValidate")]),e._v(" and "),t("code",[e._v("$afterValidate")]),e._v(" hooks "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/185",target:"_blank",rel:"noopener noreferrer"}},[e._v("#185"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Support length property "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/168",target:"_blank",rel:"noopener noreferrer"}},[e._v("#168"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Make sure operations are executed in the order they are called "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/180",target:"_blank",rel:"noopener noreferrer"}},[e._v("#180"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Fetch nothing if the "),t("code",[e._v("where")]),e._v(" clauses hit no rows in "),t("code",[e._v("update/patchAndFetchById")]),e._v(" methods "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/189",target:"_blank",rel:"noopener noreferrer"}},[e._v("#189"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Lots of performance tweaks.")]),e._v(" "),t("li",[t("code",[e._v("$loadRelated")]),e._v(" and "),t("code",[e._v("loadRelated")]),e._v(" now return a "),t("code",[e._v("QueryBuilder")]),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-7"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Undefined values as query method arguments now throw an exception. Before they were just silently ignored\nand for example "),t("code",[e._v("delete().where('id', undefined)")]),e._v(" caused the entire table to be deleted. "),t("a",{attrs:{href:"http://vincit.github.io/objection.js/#skipundefined",target:"_blank",rel:"noopener noreferrer"}},[e._v("skipUndefined"),t("OutboundLink")],1),e._v("\nmethod can be called for a query builder to handle the undefined values the old way.")])]),e._v(" "),t("li",[t("p",[e._v("Deprecated method "),t("code",[e._v("dumpSql")]),e._v(" is now removed.")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("$loadRelated")]),e._v(" and "),t("code",[e._v("loadRelated")]),e._v(" now return a "),t("code",[e._v("QueryBuilder")]),e._v(". This may break your code is some rare cases\nwhere you have called a non-standard promise method like "),t("code",[e._v("reflect")]),e._v(" for the return value of these functions.")])])]),e._v(" "),t("h2",{attrs:{id:"_0-5-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-5"}},[e._v("#")]),e._v(" 0.5.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-83"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-83"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#virtualattributes"}},[e._v("Virtual attributes")])])]),e._v(" "),t("h2",{attrs:{id:"_0-5-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-4"}},[e._v("#")]),e._v(" 0.5.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-84"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-84"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("bugfix: insertWithRelated now works with "),t("code",[e._v("additionalProperties = false")]),e._v(" in "),t("code",[e._v("jsonSchema")])]),e._v(" "),t("li",[e._v("Add updateAndFetch and patchAndFetch methods for "),t("code",[e._v("$query")])]),e._v(" "),t("li",[e._v("bugfix: afterGet was not called for nested models in eager query")]),e._v(" "),t("li",[e._v("Use ajv instad of tv4 for json schema validation")])]),e._v(" "),t("h2",{attrs:{id:"_0-5-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-3"}},[e._v("#")]),e._v(" 0.5.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-85"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-85"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("ES6 promise compatibility fixes.")])]),e._v(" "),t("h2",{attrs:{id:"_0-5-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-1"}},[e._v("#")]),e._v(" 0.5.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-86"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-86"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#afterget"}},[e._v("$afterGet")]),e._v(" hook.")])]),e._v(" "),t("h2",{attrs:{id:"_0-5-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-0"}},[e._v("#")]),e._v(" 0.5.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-87"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-87"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#joinrelation"}},[e._v("joinRelation")]),e._v(" family of query builder methods.")]),e._v(" "),t("li",[t("code",[e._v("HasOneRelation")]),e._v(" for creating inverse one-to-one relations.")]),e._v(" "),t("li",[e._v("Relations have been renamed "),t("code",[e._v("OneToOneRelation")]),e._v(" --\x3e "),t("code",[e._v("BelongsToOneRelation")]),e._v(", "),t("code",[e._v("OneToManyRelation")]),e._v(" --\x3e "),t("code",[e._v("HasManyRelation")]),e._v(".\nThe old names work, but have been deprecated.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#withschema"}},[e._v("withSchema")]),e._v(" now works as expected and sets the schema of all queries executed by the query builder the\nmethod is called for.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#filtereager"}},[e._v("filterEager")]),e._v(" method for better eager query filtering.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#relationmappings"}},[e._v("extra properties")]),e._v(" feature for selecting/inserting columns from/to the join table in many-to-many relations.")]),e._v(" "),t("li",[e._v("Eager query recursion depth can be controlled like so: "),t("code",[e._v("parent.^5")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_0-4-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-4-0"}},[e._v("#")]),e._v(" 0.4.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-88"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-88"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Query context feature. See "),t("a",{attrs:{href:"https://github.com/Vincit/objection.js/issues/51",target:"_blank",rel:"noopener noreferrer"}},[e._v("#51"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"#context"}},[e._v("these docs")]),e._v(" for more info.")]),e._v(" "),t("li",[e._v("Composite key support.")]),e._v(" "),t("li",[t("a",{attrs:{href:"#findbyid"}},[e._v("findById")]),e._v(", "),t("a",{attrs:{href:"#deletebyid"}},[e._v("deleteById")]),e._v(", "),t("a",{attrs:{href:"#wherecomposite"}},[e._v("whereComposite")]),e._v(" and\n"),t("a",{attrs:{href:"#whereincomposite"}},[e._v("whereInComposite")]),e._v(" query builder methods.")])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-8"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("p",[e._v("There shouldn't be any major breaking changes. We moved from ES5 to ES7 + babel in this version so there are big changes\nin the codebase. If something comes up, please open an issue.")]),e._v(" "),t("p",[e._v("There are a few known corner cases that may break:")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("You can now define a model for the join table of "),t("code",[e._v("ManyToMany")]),e._v(" relations in "),t("code",[e._v("relationMappings")]),e._v(". This is optional,\nbut may be needed if you already have a model for a "),t("code",[e._v("ManyToMany")]),e._v(" relation "),t("em",[e._v("and")]),e._v(" you use "),t("code",[e._v("snake_case")]),e._v("\nto "),t("code",[e._v("camelCase")]),e._v(" conversion for the column names. See the documentation on the "),t("a",{attrs:{href:"#relationthrough"}},[e._v("through")]),e._v("\nproperty of "),t("a",{attrs:{href:"#relationmappings"}},[e._v("relationMappings")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("The repo no longer contains the actual built javascript. Only the ES7 code that is transpiled when the code is\npublished to npm. Therefore you can no longer specify a git hash to package.json to use for example the\nHEAD version. We will start to publish alpha and RC versions to npm when something new and experimental\nis added to the library.")])])]),e._v(" "),t("h2",{attrs:{id:"_0-3-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-3"}},[e._v("#")]),e._v(" 0.3.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-89"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-89"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("fix regression: QueryBuilder.from is broken.")])]),e._v(" "),t("h2",{attrs:{id:"_0-3-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-2"}},[e._v("#")]),e._v(" 0.3.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-90"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-90"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Improved relation expression whitespace handling.")])]),e._v(" "),t("h2",{attrs:{id:"_0-3-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-1"}},[e._v("#")]),e._v(" 0.3.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-91"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-91"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("whereJson*")]),e._v(" methods can now be used inside functions given to "),t("code",[e._v("where")]),e._v(" methods.")]),e._v(" "),t("li",[e._v("Added multiple missing knex methods to "),t("code",[e._v("QueryBuilder")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_0-3-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-0"}},[e._v("#")]),e._v(" 0.3.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-92"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-92"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#insertWithRelated",target:"_blank",rel:"noopener noreferrer"}},[e._v("insertWithRelated"),t("OutboundLink")],1),e._v(" method for\ninserting model trees")]),e._v(" "),t("li",[t("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#insertAndFetch",target:"_blank",rel:"noopener noreferrer"}},[e._v("insertAndFetch"),t("OutboundLink")],1),e._v(",\n"),t("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#updateAndFetchById",target:"_blank",rel:"noopener noreferrer"}},[e._v("updateAndFetchById"),t("OutboundLink")],1),e._v(" and\n"),t("a",{attrs:{href:"http://vincit.github.io/objection.js/QueryBuilder.html#patchAndFetchById",target:"_blank",rel:"noopener noreferrer"}},[e._v("patchAndFetchById"),t("OutboundLink")],1),e._v(" helper methods")]),e._v(" "),t("li",[e._v("Filters for "),t("a",{attrs:{href:"#eager-queries"}},[e._v("eager expressions")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#transaction-object"}},[e._v("New alternative way to use transactions")])]),e._v(" "),t("li",[e._v("Many performance updates related to cloning, serializing and deserializing model trees.")])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-9"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("ul",[t("li",[e._v("QueryBuilder methods "),t("code",[e._v("update")]),e._v(", "),t("code",[e._v("patch")]),e._v(" and "),t("code",[e._v("delete")]),e._v(" now return the number of affected rows.\nThe new methods "),t("code",[e._v("updateAndFetchById")]),e._v(" and "),t("code",[e._v("patchAndFetchById")]),e._v(" may help with the migration")]),e._v(" "),t("li",[t("code",[e._v("modelInstance.$query()")]),e._v(" instance method now returns a single model instead of an array")]),e._v(" "),t("li",[e._v("Removed "),t("code",[e._v("Model.generateId()")]),e._v(" method. "),t("code",[e._v("$beforeInsert")]),e._v(" can be used instead")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-8"}},[e._v("#")]),e._v(" 0.2.8")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-93"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-93"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("ES6 inheritance support")]),e._v(" "),t("li",[e._v("generator function support for transactions")]),e._v(" "),t("li",[e._v("traverse,pick and omit methods for Model and QueryBuilder")]),e._v(" "),t("li",[e._v("bugfix: issue #38")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-7"}},[e._v("#")]),e._v(" 0.2.7")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-94"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-94"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("bugfix: fix #37 also for "),t("code",[e._v("$query()")]),e._v(".")]),e._v(" "),t("li",[e._v("Significant "),t("code",[e._v("toJson")]),e._v("/"),t("code",[e._v("fromJson")]),e._v(" performance boost.")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-6"}},[e._v("#")]),e._v(" 0.2.6")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-95"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-95"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("bugfix: fix regression bug that broke dumpSql.")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-5"}},[e._v("#")]),e._v(" 0.2.5")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-96"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-96"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("bugfix: fix regression bug that prevented values assigned to "),t("code",[e._v("this")]),e._v(" in "),t("code",[e._v("$before")]),e._v(" callbacks from getting into\nthe actual database query")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-4"}},[e._v("#")]),e._v(" 0.2.4")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-97"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-97"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("bugfix: many-to-many relations didn't work correctly with a snake_case to camelCase conversion\nin the related model class.")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-3"}},[e._v("#")]),e._v(" 0.2.3")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-98"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-98"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("Promise constructor is now exposed through "),t("code",[e._v("require('objection').Promise")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-2"}},[e._v("#")]),e._v(" 0.2.2")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-99"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-99"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("$beforeUpdate, $afterUpdate, $beforeInsert etc. are now asynchronous and you can return promises from them.")]),e._v(" "),t("li",[e._v("Added "),t("code",[e._v("Model.fn()")]),e._v(" shortcut to "),t("code",[e._v("knex.fn")]),e._v(".")]),e._v(" "),t("li",[e._v("Added missing "),t("code",[e._v("asCallback")]),e._v(" and "),t("code",[e._v("nodeify")]),e._v(" methods for "),t("code",[e._v("QueryBuilder")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-1"}},[e._v("#")]),e._v(" 0.2.1")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-100"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-100"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("bugfix: Chaining "),t("code",[e._v("insert")]),e._v(" with "),t("code",[e._v("returning")]),e._v(" now returns all listed columns.")])]),e._v(" "),t("h2",{attrs:{id:"_0-2-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-0"}},[e._v("#")]),e._v(" 0.2.0")]),e._v(" "),t("h3",{attrs:{id:"what-s-new-101"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-new-101"}},[e._v("#")]),e._v(" What's new")]),e._v(" "),t("ul",[t("li",[e._v("New name "),t("code",[e._v("objection.js")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("$beforeInsert")]),e._v(", "),t("code",[e._v("$afterInsert")]),e._v(", "),t("code",[e._v("$beforeUpdate")]),e._v(" and "),t("code",[e._v("$afterUpdate")]),e._v(" hooks for "),t("code",[e._v("Model")]),e._v(".")]),e._v(" "),t("li",[e._v("Postgres jsonb query methods: "),t("code",[e._v("whereJsonEquals")]),e._v(", "),t("code",[e._v("whereJsonSupersetOf")]),e._v(", "),t("code",[e._v("whereJsonSubsetOf")]),e._v(" and friends.")]),e._v(" "),t("li",[t("code",[e._v("whereRef")]),e._v(" query method.")]),e._v(" "),t("li",[e._v("Expose "),t("code",[e._v("knex.raw()")]),e._v(" through "),t("code",[e._v("Model.raw()")]),e._v(".")]),e._v(" "),t("li",[e._v("Expose "),t("code",[e._v("knex.client.formatter()")]),e._v(" through "),t("code",[e._v("Model.formatter()")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("QueryBuilder")]),e._v(" can be used to make sub queries just like knex's "),t("code",[e._v("QueryBuilder")]),e._v(".")]),e._v(" "),t("li",[e._v("Possibility to use a custom "),t("code",[e._v("QueryBuilder")]),e._v(" subclass by overriding "),t("code",[e._v("Model.QueryBuilder")]),e._v(".")]),e._v(" "),t("li",[e._v("Filter queries/objects for relations.")]),e._v(" "),t("li",[e._v("A pile of bug fixes.")])]),e._v(" "),t("h3",{attrs:{id:"breaking-changes-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes-10"}},[e._v("#")]),e._v(" Breaking changes")]),e._v(" "),t("ul",[t("li",[e._v("Project was renamed to objection.js. Migrate simply by replacing "),t("code",[e._v("moron")]),e._v(" with "),t("code",[e._v("objection")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"_0-1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-0"}},[e._v("#")]),e._v(" 0.1.0")]),e._v(" "),t("p",[e._v("First release.")])])}),[],!1,null,null,null);t.default=s.exports}}]);